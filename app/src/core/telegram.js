const a4_0x5844c7=a4_0x10b0;(function(_0x444e63,_0x135066){const _0x1e71b3=a4_0x10b0,_0x2cf742=_0x444e63();while(!![]){try{const _0xa610b=parseInt(_0x1e71b3(0xa8))/0x1+-parseInt(_0x1e71b3(0x9a))/0x2+-parseInt(_0x1e71b3(0x94))/0x3+parseInt(_0x1e71b3(0x95))/0x4+-parseInt(_0x1e71b3(0xae))/0x5*(-parseInt(_0x1e71b3(0xb4))/0x6)+-parseInt(_0x1e71b3(0xcc))/0x7*(parseInt(_0x1e71b3(0xbf))/0x8)+-parseInt(_0x1e71b3(0x9e))/0x9*(-parseInt(_0x1e71b3(0xbb))/0xa);if(_0xa610b===_0x135066)break;else _0x2cf742['push'](_0x2cf742['shift']());}catch(_0x54fb94){_0x2cf742['push'](_0x2cf742['shift']());}}}(a4_0x5ae2,0xad7a8));function a4_0x5ae2(){const _0x194375=['disconnect','sessions','\x20-\x20Webview\x20Connected','2390247BnwoIt','3784984MveuiZ','getTelegramQuery','Your\x20session\x20List\x20:\x0a\x20\x0a','\x20-\x20Resolving\x20Peer','indexOf','1900092DWvuYA','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','message','catopia_game_bot','18mHUcJH','TELEGRAM_APP_HASH','seconds','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','init','bot','text','agent','start','createDir','1407010MBAVAx','delay','warn','info','useSession','\x20-\x20Created','238915BMXONf','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','error','serverAddress','log','Invalid\x20input,\x20Please\x20try\x20again','42KJjhdI','url','sessionCreation','storeSession','save','messages','android','1665240juExYR','TELEGRAM_APP_ID','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','https://cowtopia-prod.tonfarmer.com/','656kIAdCo','stringify','Enter\x20your\x20Telegram\x20Password?','onBoarding','Session\x20','getSession','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','sessionName','initWebView','peer','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','length','48097NnEDVN','client','invoke','session','getEntity','resolvePeer'];a4_0x5ae2=function(){return _0x194375;};return a4_0x5ae2();}function a4_0x10b0(_0xc0b932,_0x3dc122){const _0x5ae2a4=a4_0x5ae2();return a4_0x10b0=function(_0x10b0f,_0x52a0cc){_0x10b0f=_0x10b0f-0x90;let _0xa218c8=_0x5ae2a4[_0x10b0f];return _0xa218c8;},a4_0x10b0(_0xc0b932,_0x3dc122);}import a4_0x3badb6 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0x2a8b4a from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a4_0x5844c7(0xb7)];constructor(){const _0x4be2b1=a4_0x5844c7;this[_0x4be2b1(0xc6)]=_0x4be2b1(0x92),this[_0x4be2b1(0xb5)]=_0x4be2b1(0xbe),this['bot']=_0x4be2b1(0x9d);}async[a4_0x5844c7(0xa2)](){const _0x50a998=a4_0x5844c7;try{await this[_0x50a998(0xc2)]();}catch(_0x2c00a4){console[_0x50a998(0xb2)](_0x2c00a4),a4_0x2a8b4a[_0x50a998(0xb0)](''+JSON[_0x50a998(0xc0)](_0x2c00a4));throw _0x2c00a4;}}async['onBoarding'](){const _0x2e11ad=a4_0x5844c7;try{let _0x5a9fcc=_0x2e11ad(0xc9);const _0x5c2eb0=Helper[_0x2e11ad(0xc4)]('sessions');if(_0x5c2eb0[_0x2e11ad(0xcb)]==0x0)_0x5a9fcc+=_0x2e11ad(0xbd);else for(const _0x5a4687 of _0x5c2eb0){_0x5a9fcc+='-\x20'+_0x5a4687+'\x0a';}_0x5a9fcc+=_0x2e11ad(0xca),_0x5a9fcc+=_0x2e11ad(0xa1);const _0x58d54c=await a4_0x3badb6[_0x2e11ad(0xa4)](_0x5a9fcc);if(_0x58d54c==0x1)await this[_0x2e11ad(0xb6)]();else{if(_0x58d54c==0x2)Helper['resetSession'](this['sessionName']),await Helper[_0x2e11ad(0xa9)](0xbb8),await this[_0x2e11ad(0xc2)]();else _0x58d54c==0x3?Helper[_0x2e11ad(0xc4)](this[_0x2e11ad(0xc6)])?.[_0x2e11ad(0xcb)]==0x0&&(console[_0x2e11ad(0xab)](_0x2e11ad(0xaf)),await this[_0x2e11ad(0xc2)]()):(console[_0x2e11ad(0xb0)](_0x2e11ad(0xb3)),await this[_0x2e11ad(0xc2)]());}}catch(_0x3e06bf){throw _0x3e06bf;}}async['sessionCreation'](){const _0x359d0d=a4_0x5844c7;try{const _0x927c2f=Helper[_0x359d0d(0xc4)](_0x359d0d(0x92));let _0x3064e1=_0x359d0d(0x97);for(const _0x1a471f of _0x927c2f){_0x3064e1+=_0x927c2f[_0x359d0d(0x99)](_0x1a471f)+0x1+'.\x20'+_0x1a471f+'\x0a';}_0x927c2f[_0x359d0d(0xcb)]==0x0?_0x3064e1+=_0x359d0d(0xbd):_0x3064e1+='\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x1b9db4=await a4_0x3badb6[_0x359d0d(0xa4)](_0x3064e1);this['sessionName']=Helper[_0x359d0d(0xa7)](_0x1b9db4),await this[_0x359d0d(0xac)](this['sessionName']),await this['disconnect'](),a4_0x2a8b4a[_0x359d0d(0xab)](_0x359d0d(0xc3)+this['sessionName']+_0x359d0d(0xad)),console[_0x359d0d(0xb2)](_0x359d0d(0xc3)+this['sessionName']+'\x20-\x20Created'),this[_0x359d0d(0xb7)]['save'](),await Helper[_0x359d0d(0xa9)](0xbb8),await this['init']();}catch(_0x51fa99){throw _0x51fa99;}}async[a4_0x5844c7(0xac)](_0x5384e0,_0x5eb29a){const _0x1d33a4=a4_0x5844c7;try{this['proxy']=_0x5eb29a;const _0x8d5296={'connectionRetries':0x5};this['proxy']&&(_0x8d5296[_0x1d33a4(0xa5)]=new HttpsProxyAgent(this['proxy'])),this[_0x1d33a4(0xb7)]=new StoreSession(_0x5384e0),this[_0x1d33a4(0xcd)]=new TelegramClient(this[_0x1d33a4(0xb7)],Config[_0x1d33a4(0xbc)],Config[_0x1d33a4(0x9f)],_0x8d5296),this[_0x1d33a4(0xb7)][_0x1d33a4(0xb8)](),await this[_0x1d33a4(0xcd)][_0x1d33a4(0xa6)]({'phoneNumber':async()=>await a4_0x3badb6[_0x1d33a4(0xa4)](_0x1d33a4(0xc5)),'password':async()=>await a4_0x3badb6[_0x1d33a4(0xa4)](_0x1d33a4(0xc1)),'phoneCode':async()=>await a4_0x3badb6[_0x1d33a4(0xa4)](_0x1d33a4(0x9b)),'onError':_0x4765ed=>{const _0x2e3469=_0x1d33a4;console[_0x2e3469(0xb2)](_0x4765ed[_0x2e3469(0x9c)]);}}),console[_0x1d33a4(0xb2)]();}catch(_0x2373d8){throw _0x2373d8;}}async[a4_0x5844c7(0x90)](){const _0x5763a8=a4_0x5844c7;try{a4_0x2a8b4a[_0x5763a8(0xab)]('Session\x20'+this['session']+_0x5763a8(0x98));while(this['peer']==undefined){try{this[_0x5763a8(0xc8)]=await this[_0x5763a8(0xcd)][_0x5763a8(0xd0)](this[_0x5763a8(0xa3)]);break;}catch(_0x5056e8){if(_0x5056e8 instanceof FloodWaitError){const _0x532b03=_0x5056e8[_0x5763a8(0xa0)];a4_0x2a8b4a[_0x5763a8(0xaa)](this[_0x5763a8(0xcd)][_0x5763a8(0xcf)][_0x5763a8(0xb1)]+'\x20|\x20FloodWait\x20'+_0x5056e8),a4_0x2a8b4a['info'](this['client'][_0x5763a8(0xcf)][_0x5763a8(0xb1)]+'\x20|\x20Sleep\x20'+_0x532b03+'s'),await Helper['delay']((_0x532b03+0x3)*0x3e8);}else throw _0x5056e8;}}}catch(_0x3faa17){throw _0x3faa17;}}async['disconnect'](){const _0x3a284c=a4_0x5844c7;await this[_0x3a284c(0xcd)][_0x3a284c(0x91)](),await this[_0x3a284c(0xcd)]['destroy'](),this[_0x3a284c(0xc8)]=undefined,this[_0x3a284c(0xc6)]=undefined;}async[a4_0x5844c7(0xc7)](){const _0x14d262=a4_0x5844c7;try{const _0x4eeab1=await this[_0x14d262(0xcd)][_0x14d262(0xce)](new Api[(_0x14d262(0xb9))]['RequestWebView']({'peer':this['peer'],'bot':this[_0x14d262(0xc8)],'fromBotMenu':!![],'url':this[_0x14d262(0xb5)],'platform':_0x14d262(0xba)}));a4_0x2a8b4a[_0x14d262(0xab)](_0x14d262(0xc3)+this['session']+_0x14d262(0x93));const _0x3c656c=_0x4eeab1[_0x14d262(0xb5)];return Helper[_0x14d262(0x96)](_0x3c656c,0x3);}catch(_0x2e68b0){throw _0x2e68b0;}}}