const a4_0x4fe758=a4_0x3933;(function(_0x29e57c,_0x10a5d3){const _0x1737a9=a4_0x3933,_0x3539ab=_0x29e57c();while(!![]){try{const _0x53b74b=parseInt(_0x1737a9(0x164))/0x1+-parseInt(_0x1737a9(0x165))/0x2*(-parseInt(_0x1737a9(0x16d))/0x3)+-parseInt(_0x1737a9(0x157))/0x4*(parseInt(_0x1737a9(0x158))/0x5)+parseInt(_0x1737a9(0x155))/0x6+parseInt(_0x1737a9(0x182))/0x7+-parseInt(_0x1737a9(0x14d))/0x8*(-parseInt(_0x1737a9(0x159))/0x9)+parseInt(_0x1737a9(0x163))/0xa*(-parseInt(_0x1737a9(0x15c))/0xb);if(_0x53b74b===_0x10a5d3)break;else _0x3539ab['push'](_0x3539ab['shift']());}catch(_0x30f4b1){_0x3539ab['push'](_0x3539ab['shift']());}}}(a4_0x50be,0xdb3e0));function a4_0x3933(_0x29db32,_0x1196a8){const _0x50be7e=a4_0x50be();return a4_0x3933=function(_0x39333a,_0x511d48){_0x39333a=_0x39333a-0x144;let _0x433c31=_0x50be7e[_0x39333a];return _0x433c31;},a4_0x3933(_0x29db32,_0x1196a8);}function a4_0x50be(){const _0x378d4f=['\x20|\x20Sleep\x20','session','RequestWebView','info','seconds','onBoarding','length','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','android','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','getSession','1320816ykTZip','getTelegramQuery','Your\x20session\x20List\x20:\x0a\x20\x0a','storeSession','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','useSession','TELEGRAM_APP_ID','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','peer','init','save','456NDSaQE','text','client','disconnect','\x20|\x20FloodWait\x20','start','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','catopia_game_bot','98418XRVRsH','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','465828JGCuFe','45TFKdLz','167472AEijCo','sessionName','TELEGRAM_APP_HASH','68739nAReuo','sessionCreation','Invalid\x20input,\x20Please\x20try\x20again','stringify','sessions','destroy','Enter\x20your\x20Telegram\x20Password?','1890cucRbV','416808aanuQn','90PqNXFo','serverAddress','https://cowtopia-prod.tonfarmer.com/','url','indexOf','bot','error','delay','96309bUCZMO','\x20-\x20Created','initWebView','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','\x20-\x20Resolving\x20Peer','message','resetSession','log','Session\x20','\x20-\x20Webview\x20Connected'];a4_0x50be=function(){return _0x378d4f;};return a4_0x50be();}import a4_0x247524 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0xd5294e from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';export class Telegram{[a4_0x4fe758(0x145)];constructor(){const _0x319480=a4_0x4fe758;this['sessionName']=_0x319480(0x160),this[_0x319480(0x168)]=_0x319480(0x167),this['bot']=_0x319480(0x154);}async[a4_0x4fe758(0x14b)](){const _0x12bd05=a4_0x4fe758;try{await this[_0x12bd05(0x17c)]();}catch(_0x3d04c5){console[_0x12bd05(0x174)](_0x3d04c5),a4_0xd5294e[_0x12bd05(0x16b)](''+JSON[_0x12bd05(0x15f)](_0x3d04c5));throw _0x3d04c5;}}async[a4_0x4fe758(0x17c)](){const _0x5b6477=a4_0x4fe758;try{let _0x2539eb=_0x5b6477(0x156);const _0x190a03=Helper[_0x5b6477(0x181)](_0x5b6477(0x160));if(_0x190a03[_0x5b6477(0x17d)]==0x0)_0x2539eb+=_0x5b6477(0x146);else for(const _0x5b97e4 of _0x190a03){_0x2539eb+='-\x20'+_0x5b97e4+'\x0a';}_0x2539eb+=_0x5b6477(0x153),_0x2539eb+='\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0xef76ab=await a4_0x247524[_0x5b6477(0x14e)](_0x2539eb);if(_0xef76ab==0x1)await this[_0x5b6477(0x15d)]();else{if(_0xef76ab==0x2)Helper[_0x5b6477(0x173)](this[_0x5b6477(0x15a)]),await Helper[_0x5b6477(0x16c)](0xbb8),await this[_0x5b6477(0x17c)]();else _0xef76ab==0x3?Helper['getSession'](this[_0x5b6477(0x15a)])?.[_0x5b6477(0x17d)]==0x0&&(console[_0x5b6477(0x17a)](_0x5b6477(0x170)),await this['onBoarding']()):(console[_0x5b6477(0x16b)](_0x5b6477(0x15e)),await this[_0x5b6477(0x17c)]());}}catch(_0x3e2dc2){throw _0x3e2dc2;}}async[a4_0x4fe758(0x15d)](){const _0x55aeca=a4_0x4fe758;try{const _0x2f588a=Helper['getSession']('sessions');let _0xb44ff9=_0x55aeca(0x144);for(const _0x40f33b of _0x2f588a){_0xb44ff9+=_0x2f588a[_0x55aeca(0x169)](_0x40f33b)+0x1+'.\x20'+_0x40f33b+'\x0a';}_0x2f588a[_0x55aeca(0x17d)]==0x0?_0xb44ff9+=_0x55aeca(0x146):_0xb44ff9+=_0x55aeca(0x17e);const _0x307478=await a4_0x247524['text'](_0xb44ff9);this['sessionName']=Helper['createDir'](_0x307478),await this[_0x55aeca(0x147)](this[_0x55aeca(0x15a)]),await this[_0x55aeca(0x150)](),a4_0xd5294e[_0x55aeca(0x17a)](_0x55aeca(0x175)+this['sessionName']+_0x55aeca(0x16e)),console['log'](_0x55aeca(0x175)+this[_0x55aeca(0x15a)]+_0x55aeca(0x16e)),this['storeSession']['save'](),await Helper[_0x55aeca(0x16c)](0xbb8),await this[_0x55aeca(0x14b)]();}catch(_0x27a290){throw _0x27a290;}}async[a4_0x4fe758(0x147)](_0x253724){const _0x12240c=a4_0x4fe758;try{this['storeSession']=new StoreSession(_0x253724),this[_0x12240c(0x14f)]=new TelegramClient(this[_0x12240c(0x145)],Config[_0x12240c(0x148)],Config[_0x12240c(0x15b)],{'connectionRetries':0x5}),this[_0x12240c(0x145)][_0x12240c(0x14c)](),await this[_0x12240c(0x14f)][_0x12240c(0x152)]({'phoneNumber':async()=>await a4_0x247524['text'](_0x12240c(0x180)),'password':async()=>await a4_0x247524[_0x12240c(0x14e)](_0x12240c(0x162)),'phoneCode':async()=>await a4_0x247524[_0x12240c(0x14e)](_0x12240c(0x149)),'onError':_0x38cbee=>{const _0x503805=_0x12240c;console[_0x503805(0x174)](_0x38cbee[_0x503805(0x172)]);}}),console['log']();}catch(_0x274792){throw _0x274792;}}async['resolvePeer'](){const _0x578d20=a4_0x4fe758;try{a4_0xd5294e[_0x578d20(0x17a)](_0x578d20(0x175)+this['session']+_0x578d20(0x171));while(this['peer']==undefined){try{this[_0x578d20(0x14a)]=await this[_0x578d20(0x14f)]['getEntity'](this[_0x578d20(0x16a)]);break;}catch(_0x259847){if(_0x259847 instanceof FloodWaitError){const _0xeffe07=_0x259847[_0x578d20(0x17b)];a4_0xd5294e['warn'](this['client'][_0x578d20(0x178)][_0x578d20(0x166)]+_0x578d20(0x151)+_0x259847),a4_0xd5294e[_0x578d20(0x17a)](this[_0x578d20(0x14f)][_0x578d20(0x178)][_0x578d20(0x166)]+_0x578d20(0x177)+_0xeffe07+'s'),await Helper[_0x578d20(0x16c)]((_0xeffe07+0x3)*0x3e8);}else throw _0x259847;}}}catch(_0x544094){throw _0x544094;}}async[a4_0x4fe758(0x150)](){const _0x5414d0=a4_0x4fe758;await this[_0x5414d0(0x14f)][_0x5414d0(0x150)](),await this['client'][_0x5414d0(0x161)](),this[_0x5414d0(0x14a)]=undefined,this[_0x5414d0(0x15a)]=undefined;}async[a4_0x4fe758(0x16f)](){const _0x4e59b3=a4_0x4fe758;try{const _0x447bc7=await this[_0x4e59b3(0x14f)]['invoke'](new Api['messages'][(_0x4e59b3(0x179))]({'peer':this[_0x4e59b3(0x14a)],'bot':this[_0x4e59b3(0x14a)],'fromBotMenu':!![],'url':this[_0x4e59b3(0x168)],'platform':_0x4e59b3(0x17f)}));a4_0xd5294e[_0x4e59b3(0x17a)]('Session\x20'+this[_0x4e59b3(0x178)]+_0x4e59b3(0x176));const _0x2e7c9f=_0x447bc7['url'];return Helper[_0x4e59b3(0x183)](_0x2e7c9f,0x3);}catch(_0x2eaa68){throw _0x2eaa68;}}}