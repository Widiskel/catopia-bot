const a4_0x3138e4=a4_0x468e;(function(_0x2022d2,_0x4e4d6c){const _0x201eae=a4_0x468e,_0x395d22=_0x2022d2();while(!![]){try{const _0x6c89ac=-parseInt(_0x201eae(0x18b))/0x1+parseInt(_0x201eae(0x1a5))/0x2*(-parseInt(_0x201eae(0x184))/0x3)+-parseInt(_0x201eae(0x17e))/0x4*(-parseInt(_0x201eae(0x19f))/0x5)+-parseInt(_0x201eae(0x1a0))/0x6*(parseInt(_0x201eae(0x189))/0x7)+parseInt(_0x201eae(0x1a3))/0x8+-parseInt(_0x201eae(0x195))/0x9*(-parseInt(_0x201eae(0x1ab))/0xa)+-parseInt(_0x201eae(0x1ad))/0xb*(parseInt(_0x201eae(0x187))/0xc);if(_0x6c89ac===_0x4e4d6c)break;else _0x395d22['push'](_0x395d22['shift']());}catch(_0x17518f){_0x395d22['push'](_0x395d22['shift']());}}}(a4_0x1a65,0x1bae5));import a4_0x5a0255 from'input';import{Helper}from'../utils/helper.js';function a4_0x468e(_0x197f98,_0x4ece6b){const _0x1a65a4=a4_0x1a65();return a4_0x468e=function(_0x468e3c,_0x5e957b){_0x468e3c=_0x468e3c-0x170;let _0x240b94=_0x1a65a4[_0x468e3c];return _0x240b94;},a4_0x468e(_0x197f98,_0x4ece6b);}import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0x325925 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a4_0x3138e4(0x190)];constructor(){const _0x4af57c=a4_0x3138e4;this[_0x4af57c(0x186)]=_0x4af57c(0x175),this[_0x4af57c(0x172)]=_0x4af57c(0x1ac),this[_0x4af57c(0x185)]=_0x4af57c(0x181);}async[a4_0x3138e4(0x1a7)](){const _0x53c4eb=a4_0x3138e4;try{await this[_0x53c4eb(0x19c)]();}catch(_0x366546){console[_0x53c4eb(0x198)](_0x366546),a4_0x325925[_0x53c4eb(0x18f)](''+JSON[_0x53c4eb(0x191)](_0x366546));throw _0x366546;}}async[a4_0x3138e4(0x19c)](){const _0x5842d7=a4_0x3138e4;try{let _0x11459a=_0x5842d7(0x170);const _0x2cae1f=Helper[_0x5842d7(0x173)](_0x5842d7(0x175));if(_0x2cae1f[_0x5842d7(0x1ae)]==0x0)_0x11459a+=_0x5842d7(0x18e);else for(const _0x4b59c9 of _0x2cae1f){_0x11459a+='-\x20'+_0x4b59c9+'\x0a';}_0x11459a+=_0x5842d7(0x179),_0x11459a+='\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x3fec07=await a4_0x5a0255[_0x5842d7(0x1a6)](_0x11459a);if(_0x3fec07==0x1)await this[_0x5842d7(0x174)]();else{if(_0x3fec07==0x2)Helper[_0x5842d7(0x180)](this[_0x5842d7(0x186)]),await Helper[_0x5842d7(0x183)](0xbb8),await this[_0x5842d7(0x19c)]();else _0x3fec07==0x3?Helper[_0x5842d7(0x173)](this[_0x5842d7(0x186)])?.['length']==0x0&&(console[_0x5842d7(0x18c)]('You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first'),await this['onBoarding']()):(console[_0x5842d7(0x18f)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x5842d7(0x19c)]());}}catch(_0xbd9ea8){throw _0xbd9ea8;}}async['sessionCreation'](){const _0x4c9709=a4_0x3138e4;try{const _0x229591=Helper[_0x4c9709(0x173)](_0x4c9709(0x175));let _0x17a8ba=_0x4c9709(0x17c);for(const _0x41dad1 of _0x229591){_0x17a8ba+=_0x229591['indexOf'](_0x41dad1)+0x1+'.\x20'+_0x41dad1+'\x0a';}_0x229591[_0x4c9709(0x1ae)]==0x0?_0x17a8ba+=_0x4c9709(0x18e):_0x17a8ba+=_0x4c9709(0x197);const _0x4f5069=await a4_0x5a0255[_0x4c9709(0x1a6)](_0x17a8ba);this[_0x4c9709(0x186)]=Helper[_0x4c9709(0x19a)](_0x4f5069),await this['useSession'](this['sessionName']),await this[_0x4c9709(0x1a2)](),a4_0x325925['info']('Session\x20'+this[_0x4c9709(0x186)]+_0x4c9709(0x18d)),console[_0x4c9709(0x198)](_0x4c9709(0x182)+this[_0x4c9709(0x186)]+_0x4c9709(0x18d)),this[_0x4c9709(0x190)][_0x4c9709(0x176)](),await Helper[_0x4c9709(0x183)](0xbb8),await this['init']();}catch(_0x4a16ed){throw _0x4a16ed;}}async[a4_0x3138e4(0x17d)](_0x4fd46c,_0x1b0439){const _0x1e9e4e=a4_0x3138e4;try{this['proxy']=_0x1b0439;const _0x925b1a={'connectionRetries':0x5};this['proxy']&&(_0x925b1a[_0x1e9e4e(0x199)]=new HttpsProxyAgent(this['proxy'])),this[_0x1e9e4e(0x190)]=new StoreSession(_0x4fd46c),this['client']=new TelegramClient(this['storeSession'],Config[_0x1e9e4e(0x188)],Config[_0x1e9e4e(0x19e)],_0x925b1a),this[_0x1e9e4e(0x190)][_0x1e9e4e(0x176)](),await this['client'][_0x1e9e4e(0x178)]({'phoneNumber':async()=>await a4_0x5a0255[_0x1e9e4e(0x1a6)](_0x1e9e4e(0x17a)),'password':async()=>await a4_0x5a0255[_0x1e9e4e(0x1a6)](_0x1e9e4e(0x1aa)),'phoneCode':async()=>await a4_0x5a0255[_0x1e9e4e(0x1a6)](_0x1e9e4e(0x17b)),'onError':_0x2ce2ad=>{const _0x5ad2f0=_0x1e9e4e;console[_0x5ad2f0(0x198)](_0x2ce2ad['message']);}}),console[_0x1e9e4e(0x198)]();}catch(_0x5664ae){throw _0x5664ae;}}async[a4_0x3138e4(0x19d)](){const _0x410067=a4_0x3138e4;try{a4_0x325925['info']('Session\x20'+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x410067(0x1a1)]==undefined){try{this[_0x410067(0x1a1)]=await this[_0x410067(0x192)][_0x410067(0x19b)](this[_0x410067(0x185)]);break;}catch(_0x59e48d){if(_0x59e48d instanceof FloodWaitError){const _0x4fc216=_0x59e48d[_0x410067(0x17f)];a4_0x325925['warn'](this[_0x410067(0x192)][_0x410067(0x1a8)][_0x410067(0x193)]+_0x410067(0x171)+_0x59e48d),a4_0x325925['info'](this['client']['session'][_0x410067(0x193)]+_0x410067(0x177)+_0x4fc216+'s'),await Helper[_0x410067(0x183)]((_0x4fc216+0x3)*0x3e8);}else throw _0x59e48d;}}}catch(_0x48f604){throw _0x48f604;}}async[a4_0x3138e4(0x1a2)](){const _0x353e0f=a4_0x3138e4;await this['client'][_0x353e0f(0x1a2)](),await this[_0x353e0f(0x192)][_0x353e0f(0x196)](),this[_0x353e0f(0x1a1)]=undefined,this[_0x353e0f(0x186)]=undefined;}async['initWebView'](){const _0x493db5=a4_0x3138e4;try{const _0x339921=await this[_0x493db5(0x192)][_0x493db5(0x1a9)](new Api[(_0x493db5(0x1a4))][(_0x493db5(0x194))]({'peer':this['peer'],'bot':this[_0x493db5(0x1a1)],'fromBotMenu':!![],'url':this[_0x493db5(0x172)],'platform':_0x493db5(0x18a)}));a4_0x325925[_0x493db5(0x18c)](_0x493db5(0x182)+this['session']+'\x20-\x20Webview\x20Connected');const _0x40fd62=_0x339921[_0x493db5(0x172)];return Helper['getTelegramQuery'](_0x40fd62,0x3);}catch(_0x3a08bf){throw _0x3a08bf;}}}function a4_0x1a65(){const _0x3fa6a1=['serverAddress','RequestWebView','288NQgRzw','destroy','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','log','agent','createDir','getEntity','onBoarding','resolvePeer','TELEGRAM_APP_HASH','95YZVRUl','12xEyQWU','peer','disconnect','1193864nuTmXD','messages','2MYjqva','text','init','session','invoke','Enter\x20your\x20Telegram\x20Password?','48710KeNRWR','https://cowtopia-prod.tonfarmer.com/','99HzOcyy','length','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','\x20|\x20FloodWait\x20','url','getSession','sessionCreation','sessions','save','\x20|\x20Sleep\x20','start','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','Your\x20session\x20List\x20:\x0a\x20\x0a','useSession','25684ueQtLB','seconds','resetSession','catopia_game_bot','Session\x20','delay','88674ujHBXY','bot','sessionName','66492pmryEu','TELEGRAM_APP_ID','457667SjgnxL','android','103534rtcrQg','info','\x20-\x20Created','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','error','storeSession','stringify','client'];a4_0x1a65=function(){return _0x3fa6a1;};return a4_0x1a65();}