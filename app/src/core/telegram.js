const a4_0x3e4d41=a4_0x20c2;(function(_0x29640e,_0x800da3){const _0x7c2e19=a4_0x20c2,_0x52b343=_0x29640e();while(!![]){try{const _0x5054dc=-parseInt(_0x7c2e19(0x111))/0x1*(parseInt(_0x7c2e19(0x116))/0x2)+parseInt(_0x7c2e19(0x132))/0x3+parseInt(_0x7c2e19(0x129))/0x4+-parseInt(_0x7c2e19(0x125))/0x5+parseInt(_0x7c2e19(0x120))/0x6+-parseInt(_0x7c2e19(0x11b))/0x7+-parseInt(_0x7c2e19(0x146))/0x8*(-parseInt(_0x7c2e19(0x140))/0x9);if(_0x5054dc===_0x800da3)break;else _0x52b343['push'](_0x52b343['shift']());}catch(_0x50b428){_0x52b343['push'](_0x52b343['shift']());}}}(a4_0x41a1,0x4c26f));import a4_0x52953f from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a4_0x41a1(){const _0x2baaf6=['message','start','log','proxy','2827912aYjhrf','disconnect','\x20|\x20Sleep\x20','RequestWebView','onBoarding','warn','info','useSession','Enter\x20your\x20Telegram\x20Password?','Your\x20session\x20List\x20:\x0a\x20\x0a','\x20-\x20Resolving\x20Peer','1eYfapB','initWebView','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','sessionCreation','storeSession','193902OkjQmM','length','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','TELEGRAM_APP_ID','error','2530626orIcRy','Invalid\x20input,\x20Please\x20try\x20again','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','messages','getTelegramQuery','108576DuFFAP','url','resetSession','delay','serverAddress','1359715KfoedR','Session\x20','\x20|\x20FloodWait\x20','init','737316dqtLUP','peer','getSession','\x20-\x20Created','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','stringify','seconds','bot','session','1459251tVyUnC','createDir','sessions','sessionName','text','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','TELEGRAM_APP_HASH','save','agent','catopia_game_bot','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','invoke','client','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','9lPIYbS','indexOf'];a4_0x41a1=function(){return _0x2baaf6;};return a4_0x41a1();}import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0x554e95 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';function a4_0x20c2(_0xb27f8f,_0x48b17f){const _0x41a1d6=a4_0x41a1();return a4_0x20c2=function(_0x20c2ca,_0x5a84b7){_0x20c2ca=_0x20c2ca-0x110;let _0x153918=_0x41a1d6[_0x20c2ca];return _0x153918;},a4_0x20c2(_0xb27f8f,_0x48b17f);}export class Telegram{[a4_0x3e4d41(0x115)];constructor(){const _0x3ef3d1=a4_0x3e4d41;this[_0x3ef3d1(0x135)]='sessions',this[_0x3ef3d1(0x121)]='https://cowtopia-prod.tonfarmer.com/',this[_0x3ef3d1(0x130)]=_0x3ef3d1(0x13b);}async['init'](){const _0x35bd23=a4_0x3e4d41;try{await this[_0x35bd23(0x14a)]();}catch(_0x335b38){console[_0x35bd23(0x144)](_0x335b38),a4_0x554e95['error'](''+JSON[_0x35bd23(0x12e)](_0x335b38));throw _0x335b38;}}async[a4_0x3e4d41(0x14a)](){const _0x29406a=a4_0x3e4d41;try{let _0xfbf2f1=_0x29406a(0x137);const _0x49c471=Helper['getSession'](_0x29406a(0x134));if(_0x49c471[_0x29406a(0x117)]==0x0)_0xfbf2f1+=_0x29406a(0x13c);else for(const _0x14032c of _0x49c471){_0xfbf2f1+='-\x20'+_0x14032c+'\x0a';}_0xfbf2f1+=_0x29406a(0x13f),_0xfbf2f1+='\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x5a6f15=await a4_0x52953f['text'](_0xfbf2f1);if(_0x5a6f15==0x1)await this[_0x29406a(0x114)]();else{if(_0x5a6f15==0x2)Helper[_0x29406a(0x122)](this[_0x29406a(0x135)]),await Helper[_0x29406a(0x123)](0xbb8),await this[_0x29406a(0x14a)]();else _0x5a6f15==0x3?Helper[_0x29406a(0x12b)](this[_0x29406a(0x135)])?.['length']==0x0&&(console[_0x29406a(0x14c)](_0x29406a(0x113)),await this[_0x29406a(0x14a)]()):(console[_0x29406a(0x11a)](_0x29406a(0x11c)),await this[_0x29406a(0x14a)]());}}catch(_0x11ea5f){throw _0x11ea5f;}}async[a4_0x3e4d41(0x114)](){const _0x37262e=a4_0x3e4d41;try{const _0x2d533f=Helper[_0x37262e(0x12b)](_0x37262e(0x134));let _0x51a64d=_0x37262e(0x14f);for(const _0x4586a2 of _0x2d533f){_0x51a64d+=_0x2d533f[_0x37262e(0x141)](_0x4586a2)+0x1+'.\x20'+_0x4586a2+'\x0a';}_0x2d533f[_0x37262e(0x117)]==0x0?_0x51a64d+=_0x37262e(0x13c):_0x51a64d+=_0x37262e(0x12d);const _0x3af44c=await a4_0x52953f[_0x37262e(0x136)](_0x51a64d);this[_0x37262e(0x135)]=Helper[_0x37262e(0x133)](_0x3af44c),await this[_0x37262e(0x14d)](this[_0x37262e(0x135)]),await this[_0x37262e(0x147)](),a4_0x554e95[_0x37262e(0x14c)](_0x37262e(0x126)+this[_0x37262e(0x135)]+_0x37262e(0x12c)),console[_0x37262e(0x144)](_0x37262e(0x126)+this['sessionName']+'\x20-\x20Created'),this[_0x37262e(0x115)][_0x37262e(0x139)](),await Helper[_0x37262e(0x123)](0xbb8),await this[_0x37262e(0x128)]();}catch(_0x2b188f){throw _0x2b188f;}}async[a4_0x3e4d41(0x14d)](_0x32e694,_0x150af8){const _0x53c1e8=a4_0x3e4d41;try{this[_0x53c1e8(0x145)]=_0x150af8;const _0x2831c4={'connectionRetries':0x5};this['proxy']&&(_0x2831c4[_0x53c1e8(0x13a)]=new HttpsProxyAgent(this[_0x53c1e8(0x145)])),this[_0x53c1e8(0x115)]=new StoreSession(_0x32e694),this[_0x53c1e8(0x13e)]=new TelegramClient(this[_0x53c1e8(0x115)],Config[_0x53c1e8(0x119)],Config[_0x53c1e8(0x138)],_0x2831c4),this[_0x53c1e8(0x115)][_0x53c1e8(0x139)](),await this[_0x53c1e8(0x13e)][_0x53c1e8(0x143)]({'phoneNumber':async()=>await a4_0x52953f[_0x53c1e8(0x136)](_0x53c1e8(0x11d)),'password':async()=>await a4_0x52953f[_0x53c1e8(0x136)](_0x53c1e8(0x14e)),'phoneCode':async()=>await a4_0x52953f[_0x53c1e8(0x136)](_0x53c1e8(0x118)),'onError':_0x281371=>{const _0x1d46ed=_0x53c1e8;console['log'](_0x281371[_0x1d46ed(0x142)]);}}),console[_0x53c1e8(0x144)]();}catch(_0x2e35e1){throw _0x2e35e1;}}async['resolvePeer'](){const _0x4ccbe1=a4_0x3e4d41;try{a4_0x554e95['info'](_0x4ccbe1(0x126)+this['session']+_0x4ccbe1(0x110));while(this['peer']==undefined){try{this[_0x4ccbe1(0x12a)]=await this[_0x4ccbe1(0x13e)]['getEntity'](this[_0x4ccbe1(0x130)]);break;}catch(_0x2c57f0){if(_0x2c57f0 instanceof FloodWaitError){const _0x4540bd=_0x2c57f0[_0x4ccbe1(0x12f)];a4_0x554e95[_0x4ccbe1(0x14b)](this[_0x4ccbe1(0x13e)][_0x4ccbe1(0x131)]['serverAddress']+_0x4ccbe1(0x127)+_0x2c57f0),a4_0x554e95[_0x4ccbe1(0x14c)](this[_0x4ccbe1(0x13e)][_0x4ccbe1(0x131)][_0x4ccbe1(0x124)]+_0x4ccbe1(0x148)+_0x4540bd+'s'),await Helper[_0x4ccbe1(0x123)]((_0x4540bd+0x3)*0x3e8);}else throw _0x2c57f0;}}}catch(_0x57500e){throw _0x57500e;}}async['disconnect'](){const _0x34e5ea=a4_0x3e4d41;await this[_0x34e5ea(0x13e)][_0x34e5ea(0x147)](),await this[_0x34e5ea(0x13e)]['destroy'](),this[_0x34e5ea(0x12a)]=undefined,this[_0x34e5ea(0x135)]=undefined;}async[a4_0x3e4d41(0x112)](){const _0x143d77=a4_0x3e4d41;try{const _0x390075=await this[_0x143d77(0x13e)][_0x143d77(0x13d)](new Api[(_0x143d77(0x11e))][(_0x143d77(0x149))]({'peer':this['peer'],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0x143d77(0x121)],'platform':'android'}));a4_0x554e95[_0x143d77(0x14c)](_0x143d77(0x126)+this['session']+'\x20-\x20Webview\x20Connected');const _0x4c1644=_0x390075[_0x143d77(0x121)];return Helper[_0x143d77(0x11f)](_0x4c1644,0x3);}catch(_0x430896){throw _0x430896;}}}