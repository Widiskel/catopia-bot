const a4_0x582814=a4_0x5bf0;(function(_0x4c5bfc,_0x37f2c8){const _0x2ee54e=a4_0x5bf0,_0x58a5fa=_0x4c5bfc();while(!![]){try{const _0x2305b0=parseInt(_0x2ee54e(0xc8))/0x1+-parseInt(_0x2ee54e(0xa2))/0x2+parseInt(_0x2ee54e(0x98))/0x3+parseInt(_0x2ee54e(0xb0))/0x4*(-parseInt(_0x2ee54e(0xa4))/0x5)+parseInt(_0x2ee54e(0xc5))/0x6*(parseInt(_0x2ee54e(0xc6))/0x7)+parseInt(_0x2ee54e(0xbe))/0x8*(-parseInt(_0x2ee54e(0x94))/0x9)+parseInt(_0x2ee54e(0x9c))/0xa*(parseInt(_0x2ee54e(0x9a))/0xb);if(_0x2305b0===_0x37f2c8)break;else _0x58a5fa['push'](_0x58a5fa['shift']());}catch(_0x257fc0){_0x58a5fa['push'](_0x58a5fa['shift']());}}}(a4_0x243f,0x63274));import a4_0x5d37e6 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0x2fd322 from'../utils/logger.js';function a4_0x5bf0(_0x907d75,_0x39869f){const _0x243f79=a4_0x243f();return a4_0x5bf0=function(_0x5bf0c6,_0x442c4f){_0x5bf0c6=_0x5bf0c6-0x8c;let _0x31d49b=_0x243f79[_0x5bf0c6];return _0x31d49b;},a4_0x5bf0(_0x907d75,_0x39869f);}function a4_0x243f(){const _0xbd1d43=['Session\x20','resetSession','https://cowtopia-prod.tonfarmer.com/','length','\x20-\x20Webview\x20Connected','disconnect','getSession','text','messages','3627qZgUgF','message','peer','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','2361624YSjard','proxy','946uKNJGs','Your\x20session\x20List\x20:\x0a\x20\x0a','116130nOfaLf','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','warn','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','serverAddress','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','1145104EXHanO','seconds','850895MEqwnw','sessionCreation','client','getTelegramQuery','start','createDir','Invalid\x20input,\x20Please\x20try\x20again','bot','Enter\x20your\x20Telegram\x20Password?','save','stringify','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','12VATTJS','TELEGRAM_APP_HASH','indexOf','destroy','getEntity','info','\x20-\x20Resolving\x20Peer','initWebView','android','resolvePeer','TELEGRAM_APP_ID','delay','agent','onBoarding','9544EOeJwf','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','sessions','storeSession','sessionName','url','useSession','6KfwAEy','1280216eHoqEC','session','1186PLbjaq','\x20-\x20Created','error','log'];a4_0x243f=function(){return _0xbd1d43;};return a4_0x243f();}import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a4_0x582814(0xc1)];constructor(){const _0x2048f8=a4_0x582814;this[_0x2048f8(0xc2)]=_0x2048f8(0xc0),this[_0x2048f8(0xc3)]=_0x2048f8(0x8d),this[_0x2048f8(0xab)]='catopia_game_bot';}async['init'](){const _0x1bf516=a4_0x582814;try{await this[_0x1bf516(0xbd)]();}catch(_0x131ee8){console[_0x1bf516(0xcb)](_0x131ee8),a4_0x2fd322[_0x1bf516(0xca)](''+JSON[_0x1bf516(0xae)](_0x131ee8));throw _0x131ee8;}}async[a4_0x582814(0xbd)](){const _0x292146=a4_0x582814;try{let _0x2135df=_0x292146(0xbf);const _0x4a5150=Helper['getSession']('sessions');if(_0x4a5150[_0x292146(0x8e)]==0x0)_0x2135df+=_0x292146(0xaf);else for(const _0x3bbe39 of _0x4a5150){_0x2135df+='-\x20'+_0x3bbe39+'\x0a';}_0x2135df+=_0x292146(0x9f),_0x2135df+=_0x292146(0x97);const _0x17f34f=await a4_0x5d37e6['text'](_0x2135df);if(_0x17f34f==0x1)await this[_0x292146(0xa5)]();else{if(_0x17f34f==0x2)Helper[_0x292146(0x8c)](this[_0x292146(0xc2)]),await Helper[_0x292146(0xbb)](0xbb8),await this[_0x292146(0xbd)]();else _0x17f34f==0x3?Helper[_0x292146(0x91)](this[_0x292146(0xc2)])?.[_0x292146(0x8e)]==0x0&&(console[_0x292146(0xb5)](_0x292146(0x9d)),await this['onBoarding']()):(console[_0x292146(0xca)](_0x292146(0xaa)),await this[_0x292146(0xbd)]());}}catch(_0x5cabf3){throw _0x5cabf3;}}async['sessionCreation'](){const _0x1a93bc=a4_0x582814;try{const _0x1fd174=Helper[_0x1a93bc(0x91)](_0x1a93bc(0xc0));let _0x4f9d46=_0x1a93bc(0x9b);for(const _0x3f7fe4 of _0x1fd174){_0x4f9d46+=_0x1fd174[_0x1a93bc(0xb2)](_0x3f7fe4)+0x1+'.\x20'+_0x3f7fe4+'\x0a';}_0x1fd174[_0x1a93bc(0x8e)]==0x0?_0x4f9d46+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x4f9d46+='\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x1bfa5c=await a4_0x5d37e6[_0x1a93bc(0x92)](_0x4f9d46);this['sessionName']=Helper[_0x1a93bc(0xa9)](_0x1bfa5c),await this[_0x1a93bc(0xc4)](this[_0x1a93bc(0xc2)]),await this['disconnect'](),a4_0x2fd322[_0x1a93bc(0xb5)](_0x1a93bc(0xcc)+this[_0x1a93bc(0xc2)]+_0x1a93bc(0xc9)),console['log'](_0x1a93bc(0xcc)+this[_0x1a93bc(0xc2)]+_0x1a93bc(0xc9)),this['storeSession'][_0x1a93bc(0xad)](),await Helper[_0x1a93bc(0xbb)](0xbb8),await this['init']();}catch(_0x4b34f2){throw _0x4b34f2;}}async[a4_0x582814(0xc4)](_0x45ab83,_0x5a759d){const _0x32dce2=a4_0x582814;try{this[_0x32dce2(0x99)]=_0x5a759d;const _0x4a97cf={'connectionRetries':0x5};this[_0x32dce2(0x99)]&&(_0x4a97cf[_0x32dce2(0xbc)]=new HttpsProxyAgent(this[_0x32dce2(0x99)])),this[_0x32dce2(0xc1)]=new StoreSession(_0x45ab83),this[_0x32dce2(0xa6)]=new TelegramClient(this[_0x32dce2(0xc1)],Config[_0x32dce2(0xba)],Config[_0x32dce2(0xb1)],_0x4a97cf),this['storeSession'][_0x32dce2(0xad)](),await this[_0x32dce2(0xa6)][_0x32dce2(0xa8)]({'phoneNumber':async()=>await a4_0x5d37e6[_0x32dce2(0x92)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a4_0x5d37e6[_0x32dce2(0x92)](_0x32dce2(0xac)),'phoneCode':async()=>await a4_0x5d37e6[_0x32dce2(0x92)](_0x32dce2(0xa1)),'onError':_0x493275=>{const _0x423964=_0x32dce2;console['log'](_0x493275[_0x423964(0x95)]);}}),console[_0x32dce2(0xcb)]();}catch(_0xd62a6b){throw _0xd62a6b;}}async[a4_0x582814(0xb9)](){const _0x2dbbb7=a4_0x582814;try{a4_0x2fd322[_0x2dbbb7(0xb5)](_0x2dbbb7(0xcc)+this[_0x2dbbb7(0xc7)]+_0x2dbbb7(0xb6));while(this['peer']==undefined){try{this[_0x2dbbb7(0x96)]=await this[_0x2dbbb7(0xa6)][_0x2dbbb7(0xb4)](this[_0x2dbbb7(0xab)]);break;}catch(_0x339348){if(_0x339348 instanceof FloodWaitError){const _0x5a2b6d=_0x339348[_0x2dbbb7(0xa3)];a4_0x2fd322[_0x2dbbb7(0x9e)](this[_0x2dbbb7(0xa6)][_0x2dbbb7(0xc7)]['serverAddress']+'\x20|\x20FloodWait\x20'+_0x339348),a4_0x2fd322[_0x2dbbb7(0xb5)](this[_0x2dbbb7(0xa6)]['session'][_0x2dbbb7(0xa0)]+'\x20|\x20Sleep\x20'+_0x5a2b6d+'s'),await Helper[_0x2dbbb7(0xbb)]((_0x5a2b6d+0x3)*0x3e8);}else throw _0x339348;}}}catch(_0x23914f){throw _0x23914f;}}async[a4_0x582814(0x90)](){const _0x311e25=a4_0x582814;await this['client'][_0x311e25(0x90)](),await this[_0x311e25(0xa6)][_0x311e25(0xb3)](),this[_0x311e25(0x96)]=undefined,this['sessionName']=undefined;}async[a4_0x582814(0xb7)](){const _0xa310e6=a4_0x582814;try{const _0x5574a0=await this[_0xa310e6(0xa6)]['invoke'](new Api[(_0xa310e6(0x93))]['RequestWebView']({'peer':this[_0xa310e6(0x96)],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0xa310e6(0xc3)],'platform':_0xa310e6(0xb8)}));a4_0x2fd322[_0xa310e6(0xb5)](_0xa310e6(0xcc)+this[_0xa310e6(0xc7)]+_0xa310e6(0x8f));const _0x528772=_0x5574a0['url'];return Helper[_0xa310e6(0xa7)](_0x528772,0x3);}catch(_0x3b7ba9){throw _0x3b7ba9;}}}