const a4_0x51eec0=a4_0x5e12;(function(_0x122c4d,_0x46a5be){const _0x22c925=a4_0x5e12,_0x2cd9aa=_0x122c4d();while(!![]){try{const _0x402918=parseInt(_0x22c925(0xee))/0x1*(-parseInt(_0x22c925(0xeb))/0x2)+parseInt(_0x22c925(0xe9))/0x3+parseInt(_0x22c925(0xf3))/0x4+-parseInt(_0x22c925(0xd4))/0x5*(parseInt(_0x22c925(0x108))/0x6)+parseInt(_0x22c925(0xea))/0x7+-parseInt(_0x22c925(0x10b))/0x8*(parseInt(_0x22c925(0x109))/0x9)+-parseInt(_0x22c925(0x10a))/0xa;if(_0x402918===_0x46a5be)break;else _0x2cd9aa['push'](_0x2cd9aa['shift']());}catch(_0x59bfed){_0x2cd9aa['push'](_0x2cd9aa['shift']());}}}(a4_0x4b6e,0x80dba));import a4_0x495567 from'input';function a4_0x5e12(_0x42d5e4,_0x55792b){const _0x4b6ec1=a4_0x4b6e();return a4_0x5e12=function(_0x5e1228,_0x21c20b){_0x5e1228=_0x5e1228-0xd3;let _0x5a9be0=_0x4b6ec1[_0x5e1228];return _0x5a9be0;},a4_0x5e12(_0x42d5e4,_0x55792b);}import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0x421abd from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x5d1a19=a4_0x5e12;this['sessionName']=_0x5d1a19(0xe3),this[_0x5d1a19(0x105)]=_0x5d1a19(0x102),this[_0x5d1a19(0x110)]='catopia_game_bot';}async['init'](){const _0x2af79c=a4_0x5e12;try{await this[_0x2af79c(0x106)]();}catch(_0x555683){console[_0x2af79c(0xf8)](_0x555683),a4_0x421abd[_0x2af79c(0xe6)](''+JSON[_0x2af79c(0xda)](_0x555683));throw _0x555683;}}async['onBoarding'](){const _0x3cc24b=a4_0x5e12;try{let _0x3d4923=_0x3cc24b(0x111);const _0x4712e0=Helper[_0x3cc24b(0xfe)]('sessions');if(_0x4712e0['length']==0x0)_0x3d4923+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:';else for(const _0x1224b3 of _0x4712e0){_0x3d4923+='-\x20'+_0x1224b3+'\x0a';}_0x3d4923+=_0x3cc24b(0xf2),_0x3d4923+=_0x3cc24b(0xe8);const _0x49c5ab=await a4_0x495567[_0x3cc24b(0x10c)](_0x3d4923);if(_0x49c5ab==0x1)await this[_0x3cc24b(0x104)]();else{if(_0x49c5ab==0x2)Helper[_0x3cc24b(0xf9)](this[_0x3cc24b(0xd3)]),await Helper[_0x3cc24b(0xec)](0xbb8),await this[_0x3cc24b(0x106)]();else _0x49c5ab==0x3?Helper['getSession'](this[_0x3cc24b(0xd3)])?.[_0x3cc24b(0xf5)]==0x0&&(console[_0x3cc24b(0xef)](_0x3cc24b(0xf1)),await this[_0x3cc24b(0x106)]()):(console['error'](_0x3cc24b(0x107)),await this[_0x3cc24b(0x106)]());}}catch(_0x3a0018){throw _0x3a0018;}}async['sessionCreation'](){const _0x503e4a=a4_0x5e12;try{const _0x2c0c43=Helper[_0x503e4a(0xfe)](_0x503e4a(0xe3));let _0x7b8343='Your\x20session\x20List\x20:\x0a\x20\x0a';for(const _0x3953df of _0x2c0c43){_0x7b8343+=_0x2c0c43[_0x503e4a(0xdc)](_0x3953df)+0x1+'.\x20'+_0x3953df+'\x0a';}_0x2c0c43['length']==0x0?_0x7b8343+=_0x503e4a(0xf4):_0x7b8343+='\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x12b73f=await a4_0x495567[_0x503e4a(0x10c)](_0x7b8343);this[_0x503e4a(0xd3)]=Helper[_0x503e4a(0xf7)](_0x12b73f),await this[_0x503e4a(0x103)](this[_0x503e4a(0xd3)]),await this[_0x503e4a(0x10f)](),a4_0x421abd[_0x503e4a(0xef)](_0x503e4a(0x101)+this[_0x503e4a(0xd3)]+'\x20-\x20Created'),console[_0x503e4a(0xf8)](_0x503e4a(0x101)+this[_0x503e4a(0xd3)]+'\x20-\x20Created'),this['storeSession']['save'](),await Helper[_0x503e4a(0xec)](0xbb8),await this[_0x503e4a(0xd7)]();}catch(_0x357116){throw _0x357116;}}async['useSession'](_0x1a106e,_0x35bd6a){const _0x540ee1=a4_0x5e12;try{this['proxy']=_0x35bd6a;const _0x2e54c5={'connectionRetries':0x5};this[_0x540ee1(0x10e)]&&(_0x2e54c5[_0x540ee1(0xe1)]=new HttpsProxyAgent(this['proxy'])),this[_0x540ee1(0x10d)]=new StoreSession(_0x1a106e),this[_0x540ee1(0xd8)]=new TelegramClient(this[_0x540ee1(0x10d)],Config[_0x540ee1(0xdb)],Config[_0x540ee1(0xe5)],_0x2e54c5),this[_0x540ee1(0x10d)]['save'](),await this[_0x540ee1(0xd8)][_0x540ee1(0xd5)]({'phoneNumber':async()=>await a4_0x495567[_0x540ee1(0x10c)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a4_0x495567[_0x540ee1(0x10c)](_0x540ee1(0xff)),'phoneCode':async()=>await a4_0x495567[_0x540ee1(0x10c)](_0x540ee1(0xdf)),'onError':_0x248b73=>{const _0x9354bf=_0x540ee1;console[_0x9354bf(0xf8)](_0x248b73[_0x9354bf(0xdd)]);}}),console['log']();}catch(_0x41476a){throw _0x41476a;}}async[a4_0x51eec0(0xfb)](){const _0x47ef69=a4_0x51eec0;try{a4_0x421abd['info'](_0x47ef69(0x101)+this[_0x47ef69(0x100)]+_0x47ef69(0xe4));while(this['peer']==undefined){try{this[_0x47ef69(0xf6)]=await this['client'][_0x47ef69(0x112)](this[_0x47ef69(0x110)]);break;}catch(_0x38d471){if(_0x38d471 instanceof FloodWaitError){const _0x35ddb8=_0x38d471[_0x47ef69(0xde)];a4_0x421abd['warn'](this[_0x47ef69(0xd8)][_0x47ef69(0x100)][_0x47ef69(0xd6)]+_0x47ef69(0xe0)+_0x38d471),a4_0x421abd[_0x47ef69(0xef)](this[_0x47ef69(0xd8)]['session']['serverAddress']+_0x47ef69(0xe2)+_0x35ddb8+'s'),await Helper[_0x47ef69(0xec)]((_0x35ddb8+0x3)*0x3e8);}else throw _0x38d471;}}}catch(_0x193a3b){throw _0x193a3b;}}async[a4_0x51eec0(0x10f)](){const _0x3f289e=a4_0x51eec0;await this[_0x3f289e(0xd8)][_0x3f289e(0x10f)](),await this[_0x3f289e(0xd8)][_0x3f289e(0xf0)](),this[_0x3f289e(0xf6)]=undefined,this[_0x3f289e(0xd3)]=undefined;}async[a4_0x51eec0(0xfd)](){const _0x4ae808=a4_0x51eec0;try{const _0x4c9a70=await this[_0x4ae808(0xd8)][_0x4ae808(0xfa)](new Api[(_0x4ae808(0xe7))][(_0x4ae808(0xed))]({'peer':this[_0x4ae808(0xf6)],'bot':this[_0x4ae808(0xf6)],'fromBotMenu':!![],'url':this[_0x4ae808(0x105)],'platform':_0x4ae808(0xfc)}));a4_0x421abd['info'](_0x4ae808(0x101)+this[_0x4ae808(0x100)]+'\x20-\x20Webview\x20Connected');const _0xb32937=_0x4c9a70['url'];return Helper[_0x4ae808(0xd9)](_0xb32937,0x3);}catch(_0x3285a3){throw _0x3285a3;}}}function a4_0x4b6e(){const _0x2ada91=['9MSkCTY','9950830uAxKBO','515728VvFbER','text','storeSession','proxy','disconnect','bot','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','getEntity','sessionName','5pgLvpO','start','serverAddress','init','client','getTelegramQuery','stringify','TELEGRAM_APP_ID','indexOf','message','seconds','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','\x20|\x20FloodWait\x20','agent','\x20|\x20Sleep\x20','sessions','\x20-\x20Resolving\x20Peer','TELEGRAM_APP_HASH','error','messages','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','2895351tRgYEJ','5242202iIPWzJ','1023462TvaaIT','delay','RequestWebView','1vQEPWL','info','destroy','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','3746412aufqrh','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','length','peer','createDir','log','resetSession','invoke','resolvePeer','android','initWebView','getSession','Enter\x20your\x20Telegram\x20Password?','session','Session\x20','https://cowtopia-prod.tonfarmer.com/','useSession','sessionCreation','url','onBoarding','Invalid\x20input,\x20Please\x20try\x20again','3309144BMaoTO'];a4_0x4b6e=function(){return _0x2ada91;};return a4_0x4b6e();}