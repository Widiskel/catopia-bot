const a4_0x55ad22=a4_0x2361;(function(_0x48735e,_0x3d2868){const _0x6a01d7=a4_0x2361,_0x4f9497=_0x48735e();while(!![]){try{const _0x518fa1=parseInt(_0x6a01d7(0xd9))/0x1+parseInt(_0x6a01d7(0xa8))/0x2*(parseInt(_0x6a01d7(0xdf))/0x3)+parseInt(_0x6a01d7(0xac))/0x4+parseInt(_0x6a01d7(0xad))/0x5+-parseInt(_0x6a01d7(0xb3))/0x6*(-parseInt(_0x6a01d7(0xb9))/0x7)+parseInt(_0x6a01d7(0xb0))/0x8+-parseInt(_0x6a01d7(0xb1))/0x9;if(_0x518fa1===_0x3d2868)break;else _0x4f9497['push'](_0x4f9497['shift']());}catch(_0x3b09b0){_0x4f9497['push'](_0x4f9497['shift']());}}}(a4_0x3d9f,0x2d0c4));import a4_0x2c18c2 from'input';import{Helper}from'../utils/helper.js';function a4_0x2361(_0x80f2aa,_0x3eafbb){const _0x3d9ff8=a4_0x3d9f();return a4_0x2361=function(_0x2361a3,_0x4cd3ec){_0x2361a3=_0x2361a3-0xa6;let _0x41e0e2=_0x3d9ff8[_0x2361a3];return _0x41e0e2;},a4_0x2361(_0x80f2aa,_0x3eafbb);}import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0x1a5849 from'../utils/logger.js';function a4_0x3d9f(){const _0x2b6dad=['text','TELEGRAM_APP_ID','TELEGRAM_APP_HASH','\x20-\x20Resolving\x20Peer','message','url','session','\x20-\x20Webview\x20Connected','sessionName','log','error','getTelegramQuery','peer','\x20-\x20Created','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','invoke','disconnect','useSession','Enter\x20your\x20Telegram\x20Password?','\x20|\x20FloodWait\x20','info','save','bot','Session\x20','162074RZDXlD','onBoarding','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','delay','https://cowtopia-prod.tonfarmer.com/','2643kfyIoT','messages','storeSession','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','initWebView','resetSession','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','destroy','getEntity','292YjaNXf','Invalid\x20input,\x20Please\x20try\x20again','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','865448jMRtcD','1768720QaPYoW','serverAddress','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','1492928xLOZTL','8048475GZFCHA','RequestWebView','188214CNQmVH','getSession','sessionCreation','sessions','init','indexOf','7TKxnXI','warn','createDir','client','length','Your\x20session\x20List\x20:\x0a\x20\x0a','android','catopia_game_bot'];a4_0x3d9f=function(){return _0x2b6dad;};return a4_0x3d9f();}import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';export class Telegram{['storeSession'];constructor(){const _0x24406f=a4_0x2361;this[_0x24406f(0xc9)]=_0x24406f(0xb6),this[_0x24406f(0xc6)]=_0x24406f(0xde),this['bot']=_0x24406f(0xc0);}async['init'](){const _0x3b06b1=a4_0x2361;try{await this[_0x3b06b1(0xda)]();}catch(_0x190d49){console[_0x3b06b1(0xca)](_0x190d49),a4_0x1a5849[_0x3b06b1(0xcb)](''+JSON['stringify'](_0x190d49));throw _0x190d49;}}async[a4_0x55ad22(0xda)](){const _0x2fe496=a4_0x55ad22;try{let _0x22255e=_0x2fe496(0xdc);const _0x1e9957=Helper[_0x2fe496(0xb4)](_0x2fe496(0xb6));if(_0x1e9957['length']==0x0)_0x22255e+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:';else for(const _0x2cf8b4 of _0x1e9957){_0x22255e+='-\x20'+_0x2cf8b4+'\x0a';}_0x22255e+=_0x2fe496(0xaf),_0x22255e+=_0x2fe496(0xcf);const _0xf8f03=await a4_0x2c18c2[_0x2fe496(0xc1)](_0x22255e);if(_0xf8f03==0x1)await this[_0x2fe496(0xb5)]();else{if(_0xf8f03==0x2)Helper[_0x2fe496(0xe4)](this['sessionName']),await Helper['delay'](0xbb8),await this['onBoarding']();else _0xf8f03==0x3?Helper[_0x2fe496(0xb4)](this[_0x2fe496(0xc9)])?.[_0x2fe496(0xbd)]==0x0&&(console[_0x2fe496(0xd5)](_0x2fe496(0xdb)),await this[_0x2fe496(0xda)]()):(console[_0x2fe496(0xcb)](_0x2fe496(0xa9)),await this[_0x2fe496(0xda)]());}}catch(_0x247d54){throw _0x247d54;}}async[a4_0x55ad22(0xb5)](){const _0x2c5d94=a4_0x55ad22;try{const _0x213ffb=Helper[_0x2c5d94(0xb4)](_0x2c5d94(0xb6));let _0x1f85a5=_0x2c5d94(0xbe);for(const _0x2ea9d6 of _0x213ffb){_0x1f85a5+=_0x213ffb[_0x2c5d94(0xb8)](_0x2ea9d6)+0x1+'.\x20'+_0x2ea9d6+'\x0a';}_0x213ffb[_0x2c5d94(0xbd)]==0x0?_0x1f85a5+=_0x2c5d94(0xaa):_0x1f85a5+=_0x2c5d94(0xe5);const _0x302aee=await a4_0x2c18c2['text'](_0x1f85a5);this['sessionName']=Helper[_0x2c5d94(0xbb)](_0x302aee),await this[_0x2c5d94(0xd2)](this['sessionName']),await this[_0x2c5d94(0xd1)](),a4_0x1a5849['info']('Session\x20'+this[_0x2c5d94(0xc9)]+'\x20-\x20Created'),console[_0x2c5d94(0xca)](_0x2c5d94(0xd8)+this[_0x2c5d94(0xc9)]+_0x2c5d94(0xce)),this[_0x2c5d94(0xe1)][_0x2c5d94(0xd6)](),await Helper[_0x2c5d94(0xdd)](0xbb8),await this[_0x2c5d94(0xb7)]();}catch(_0x27dbcd){throw _0x27dbcd;}}async[a4_0x55ad22(0xd2)](_0x56a38a){const _0x594722=a4_0x55ad22;try{this[_0x594722(0xe1)]=new StoreSession(_0x56a38a),this[_0x594722(0xbc)]=new TelegramClient(this['storeSession'],Config[_0x594722(0xc2)],Config[_0x594722(0xc3)],{'connectionRetries':0x5}),this[_0x594722(0xe1)][_0x594722(0xd6)](),await this[_0x594722(0xbc)]['start']({'phoneNumber':async()=>await a4_0x2c18c2[_0x594722(0xc1)](_0x594722(0xe2)),'password':async()=>await a4_0x2c18c2[_0x594722(0xc1)](_0x594722(0xd3)),'phoneCode':async()=>await a4_0x2c18c2[_0x594722(0xc1)](_0x594722(0xab)),'onError':_0x274ba0=>{const _0x56f824=_0x594722;console['log'](_0x274ba0[_0x56f824(0xc5)]);}}),console[_0x594722(0xca)]();}catch(_0x408828){throw _0x408828;}}async['resolvePeer'](){const _0x246d6a=a4_0x55ad22;try{a4_0x1a5849[_0x246d6a(0xd5)](_0x246d6a(0xd8)+this['session']+_0x246d6a(0xc4));while(this[_0x246d6a(0xcd)]==undefined){try{this[_0x246d6a(0xcd)]=await this['client'][_0x246d6a(0xa7)](this[_0x246d6a(0xd7)]);break;}catch(_0x2e065a){if(_0x2e065a instanceof FloodWaitError){const _0xae9b8b=_0x2e065a['seconds'];a4_0x1a5849[_0x246d6a(0xba)](this[_0x246d6a(0xbc)]['session'][_0x246d6a(0xae)]+_0x246d6a(0xd4)+_0x2e065a),a4_0x1a5849[_0x246d6a(0xd5)](this['client'][_0x246d6a(0xc7)][_0x246d6a(0xae)]+'\x20|\x20Sleep\x20'+_0xae9b8b+'s'),await Helper[_0x246d6a(0xdd)]((_0xae9b8b+0x3)*0x3e8);}else throw _0x2e065a;}}}catch(_0x5c5b82){throw _0x5c5b82;}}async[a4_0x55ad22(0xd1)](){const _0x1f1e41=a4_0x55ad22;await this[_0x1f1e41(0xbc)]['disconnect'](),await this[_0x1f1e41(0xbc)][_0x1f1e41(0xa6)](),this[_0x1f1e41(0xcd)]=undefined,this[_0x1f1e41(0xc9)]=undefined;}async[a4_0x55ad22(0xe3)](){const _0x2f1f30=a4_0x55ad22;try{const _0x367e4a=await this[_0x2f1f30(0xbc)][_0x2f1f30(0xd0)](new Api[(_0x2f1f30(0xe0))][(_0x2f1f30(0xb2))]({'peer':this[_0x2f1f30(0xcd)],'bot':this[_0x2f1f30(0xcd)],'fromBotMenu':!![],'url':this[_0x2f1f30(0xc6)],'platform':_0x2f1f30(0xbf)}));a4_0x1a5849[_0x2f1f30(0xd5)](_0x2f1f30(0xd8)+this[_0x2f1f30(0xc7)]+_0x2f1f30(0xc8));const _0x70211c=_0x367e4a[_0x2f1f30(0xc6)];return Helper[_0x2f1f30(0xcc)](_0x70211c,0x3);}catch(_0xfc2556){throw _0xfc2556;}}}