const a3_0x13e7d9=a3_0x1e3b;(function(_0x571176,_0x2826b1){const _0x166099=a3_0x1e3b,_0x49ca22=_0x571176();while(!![]){try{const _0x6d4fec=-parseInt(_0x166099(0xf9))/0x1*(-parseInt(_0x166099(0xe0))/0x2)+-parseInt(_0x166099(0xea))/0x3*(parseInt(_0x166099(0xdc))/0x4)+-parseInt(_0x166099(0xc0))/0x5+parseInt(_0x166099(0xcd))/0x6*(-parseInt(_0x166099(0xc1))/0x7)+parseInt(_0x166099(0xec))/0x8*(parseInt(_0x166099(0xd2))/0x9)+parseInt(_0x166099(0xe1))/0xa+parseInt(_0x166099(0xd1))/0xb*(parseInt(_0x166099(0xf7))/0xc);if(_0x6d4fec===_0x2826b1)break;else _0x49ca22['push'](_0x49ca22['shift']());}catch(_0x3cbd1a){_0x49ca22['push'](_0x49ca22['shift']());}}}(a3_0x3c86,0x229e3));import a3_0x342351 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x3c86(){const _0x3269f9=['start','\x20|\x20Sleep\x20','storeSession','android','invoke','session','bot','disconnect','getSession','stringify','onBoarding','1247604HDgFUK','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','info','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','3944083NFSVhQ','803142HyqBDr','\x20-\x20Resolving\x20Peer','\x20-\x20Created','Session\x20','initWebView','text','TELEGRAM_APP_HASH','sessionName','url','client','838948QjsaIZ','messages','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','RequestWebView','2nfPDsq','2324450YBUNWp','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','serverAddress','warn','sessions','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','peer','\x20-\x20Webview\x20Connected','seconds','3mjBnRC','catopia_game_bot','8xszEHd','sessionCreation','destroy','log','delay','TELEGRAM_APP_ID','getTelegramQuery','getEntity','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','init','\x20|\x20FloodWait\x20','12fDyMEn','Enter\x20your\x20Telegram\x20Password?','129853NiLLDR','length','resolvePeer','save','1253115FqcLDN','7XfsAMr'];a3_0x3c86=function(){return _0x3269f9;};return a3_0x3c86();}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x65e9f4 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';function a3_0x1e3b(_0x1fd9e4,_0x44f635){const _0x3c8660=a3_0x3c86();return a3_0x1e3b=function(_0x1e3be4,_0x2a434a){_0x1e3be4=_0x1e3be4-0xbd;let _0x13cc91=_0x3c8660[_0x1e3be4];return _0x13cc91;},a3_0x1e3b(_0x1fd9e4,_0x44f635);}export class Telegram{[a3_0x13e7d9(0xc4)];constructor(){const _0x4fe1c6=a3_0x13e7d9;this[_0x4fe1c6(0xd9)]=_0x4fe1c6(0xe5),this[_0x4fe1c6(0xda)]='https://cowtopia-prod.tonfarmer.com/',this['bot']=_0x4fe1c6(0xeb);}async[a3_0x13e7d9(0xf5)](){const _0x4f1f66=a3_0x13e7d9;try{await this['onBoarding']();}catch(_0x3dddd4){console[_0x4f1f66(0xef)](_0x3dddd4),a3_0x65e9f4['error'](''+JSON[_0x4f1f66(0xcb)](_0x3dddd4));throw _0x3dddd4;}}async['onBoarding'](){const _0x58045d=a3_0x13e7d9;try{let _0x4443f0=_0x58045d(0xce);const _0x258441=Helper[_0x58045d(0xca)](_0x58045d(0xe5));if(_0x258441[_0x58045d(0xbd)]==0x0)_0x4443f0+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:';else for(const _0x56077d of _0x258441){_0x4443f0+='-\x20'+_0x56077d+'\x0a';}_0x4443f0+=_0x58045d(0xde),_0x4443f0+=_0x58045d(0xd0);const _0x51615b=await a3_0x342351[_0x58045d(0xd7)](_0x4443f0);if(_0x51615b==0x1)await this[_0x58045d(0xed)]();else{if(_0x51615b==0x2)Helper['resetSession'](this['sessionName']),await Helper[_0x58045d(0xf0)](0xbb8),await this[_0x58045d(0xcc)]();else _0x51615b==0x3?Helper['getSession'](this[_0x58045d(0xd9)])?.[_0x58045d(0xbd)]==0x0&&(console[_0x58045d(0xcf)]('You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first'),await this['onBoarding']()):(console['error']('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x58045d(0xcc)]());}}catch(_0x501dd2){throw _0x501dd2;}}async[a3_0x13e7d9(0xed)](){const _0x48c660=a3_0x13e7d9;try{const _0x4f898b=Helper[_0x48c660(0xca)](_0x48c660(0xe5));let _0x2b22cd='Your\x20session\x20List\x20:\x0a\x20\x0a';for(const _0x53c9e7 of _0x4f898b){_0x2b22cd+=_0x4f898b['indexOf'](_0x53c9e7)+0x1+'.\x20'+_0x53c9e7+'\x0a';}_0x4f898b[_0x48c660(0xbd)]==0x0?_0x2b22cd+=_0x48c660(0xf4):_0x2b22cd+=_0x48c660(0xe6);const _0x362591=await a3_0x342351[_0x48c660(0xd7)](_0x2b22cd);this['sessionName']=Helper['createDir'](_0x362591),await this['useSession'](this[_0x48c660(0xd9)]),await this['disconnect'](),a3_0x65e9f4[_0x48c660(0xcf)](_0x48c660(0xd5)+this['sessionName']+_0x48c660(0xd4)),console['log'](_0x48c660(0xd5)+this[_0x48c660(0xd9)]+_0x48c660(0xd4)),this[_0x48c660(0xc4)][_0x48c660(0xbf)](),await Helper[_0x48c660(0xf0)](0xbb8),await this['init']();}catch(_0x2cf173){throw _0x2cf173;}}async['useSession'](_0x536b8c){const _0x3734c2=a3_0x13e7d9;try{this[_0x3734c2(0xc4)]=new StoreSession(_0x536b8c),this[_0x3734c2(0xdb)]=new TelegramClient(this[_0x3734c2(0xc4)],Config[_0x3734c2(0xf1)],Config[_0x3734c2(0xd8)],{'connectionRetries':0x5}),this[_0x3734c2(0xc4)][_0x3734c2(0xbf)](),await this[_0x3734c2(0xdb)][_0x3734c2(0xc2)]({'phoneNumber':async()=>await a3_0x342351[_0x3734c2(0xd7)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0x342351[_0x3734c2(0xd7)](_0x3734c2(0xf8)),'phoneCode':async()=>await a3_0x342351[_0x3734c2(0xd7)](_0x3734c2(0xe2)),'onError':_0x47a781=>{const _0xc6551b=_0x3734c2;console[_0xc6551b(0xef)](_0x47a781['message']);}}),console[_0x3734c2(0xef)]();}catch(_0x1fd813){throw _0x1fd813;}}async[a3_0x13e7d9(0xbe)](){const _0x4417a5=a3_0x13e7d9;try{a3_0x65e9f4[_0x4417a5(0xcf)](_0x4417a5(0xd5)+this[_0x4417a5(0xc7)]+_0x4417a5(0xd3));while(this[_0x4417a5(0xe7)]==undefined){try{this[_0x4417a5(0xe7)]=await this['client'][_0x4417a5(0xf3)](this[_0x4417a5(0xc8)]);break;}catch(_0x47aa9a){if(_0x47aa9a instanceof FloodWaitError){const _0x2eb32f=_0x47aa9a[_0x4417a5(0xe9)];a3_0x65e9f4[_0x4417a5(0xe4)](this[_0x4417a5(0xdb)][_0x4417a5(0xc7)]['serverAddress']+_0x4417a5(0xf6)+_0x47aa9a),a3_0x65e9f4['info'](this['client'][_0x4417a5(0xc7)][_0x4417a5(0xe3)]+_0x4417a5(0xc3)+_0x2eb32f+'s'),await Helper['delay']((_0x2eb32f+0x3)*0x3e8);}else throw _0x47aa9a;}}}catch(_0x14830f){throw _0x14830f;}}async[a3_0x13e7d9(0xc9)](){const _0x5158a2=a3_0x13e7d9;await this[_0x5158a2(0xdb)][_0x5158a2(0xc9)](),await this[_0x5158a2(0xdb)][_0x5158a2(0xee)](),this[_0x5158a2(0xe7)]=undefined,this[_0x5158a2(0xd9)]=undefined;}async[a3_0x13e7d9(0xd6)](){const _0x3f4e4d=a3_0x13e7d9;try{const _0x3ecaa9=await this['client'][_0x3f4e4d(0xc6)](new Api[(_0x3f4e4d(0xdd))][(_0x3f4e4d(0xdf))]({'peer':this['peer'],'bot':this[_0x3f4e4d(0xe7)],'fromBotMenu':!![],'url':this['url'],'platform':_0x3f4e4d(0xc5)}));a3_0x65e9f4[_0x3f4e4d(0xcf)](_0x3f4e4d(0xd5)+this[_0x3f4e4d(0xc7)]+_0x3f4e4d(0xe8));const _0x116fc7=_0x3ecaa9[_0x3f4e4d(0xda)];return Helper[_0x3f4e4d(0xf2)](_0x116fc7,0x3);}catch(_0x530293){throw _0x530293;}}}