const a4_0x4993bb=a4_0x9e31;(function(_0x4a4ba0,_0x482bb5){const _0x5d9412=a4_0x9e31,_0x54a254=_0x4a4ba0();while(!![]){try{const _0x32ed82=-parseInt(_0x5d9412(0x182))/0x1*(parseInt(_0x5d9412(0x16a))/0x2)+-parseInt(_0x5d9412(0x186))/0x3*(parseInt(_0x5d9412(0x18d))/0x4)+parseInt(_0x5d9412(0x164))/0x5+parseInt(_0x5d9412(0x18b))/0x6*(parseInt(_0x5d9412(0x195))/0x7)+parseInt(_0x5d9412(0x198))/0x8+-parseInt(_0x5d9412(0x17e))/0x9+-parseInt(_0x5d9412(0x188))/0xa;if(_0x32ed82===_0x482bb5)break;else _0x54a254['push'](_0x54a254['shift']());}catch(_0x4e7ed1){_0x54a254['push'](_0x54a254['shift']());}}}(a4_0x5afe,0xd0e5c));import a4_0x50ab39 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0x1d6d8a from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';function a4_0x9e31(_0x13ba4e,_0x249078){const _0x5afef5=a4_0x5afe();return a4_0x9e31=function(_0x9e319a,_0x38ad59){_0x9e319a=_0x9e319a-0x164;let _0x4f10f2=_0x5afef5[_0x9e319a];return _0x4f10f2;},a4_0x9e31(_0x13ba4e,_0x249078);}import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a4_0x4993bb(0x199)];constructor(){const _0x1446e2=a4_0x4993bb;this[_0x1446e2(0x168)]='sessions',this[_0x1446e2(0x16d)]='https://cowtopia-prod.tonfarmer.com/',this[_0x1446e2(0x187)]='catopia_game_bot';}async['init'](){const _0x89bfbb=a4_0x4993bb;try{await this[_0x89bfbb(0x176)]();}catch(_0x2545a7){console[_0x89bfbb(0x19c)](_0x2545a7),a4_0x1d6d8a[_0x89bfbb(0x16e)](''+JSON[_0x89bfbb(0x16f)](_0x2545a7));throw _0x2545a7;}}async[a4_0x4993bb(0x176)](){const _0x11bb48=a4_0x4993bb;try{let _0x42c670=_0x11bb48(0x17a);const _0x2ff40e=Helper[_0x11bb48(0x185)](_0x11bb48(0x16c));if(_0x2ff40e[_0x11bb48(0x172)]==0x0)_0x42c670+=_0x11bb48(0x180);else for(const _0x548379 of _0x2ff40e){_0x42c670+='-\x20'+_0x548379+'\x0a';}_0x42c670+=_0x11bb48(0x19a),_0x42c670+=_0x11bb48(0x191);const _0x5c782d=await a4_0x50ab39[_0x11bb48(0x181)](_0x42c670);if(_0x5c782d==0x1)await this['sessionCreation']();else{if(_0x5c782d==0x2)Helper[_0x11bb48(0x169)](this['sessionName']),await Helper[_0x11bb48(0x18e)](0xbb8),await this[_0x11bb48(0x176)]();else _0x5c782d==0x3?Helper[_0x11bb48(0x185)](this[_0x11bb48(0x168)])?.[_0x11bb48(0x172)]==0x0&&(console[_0x11bb48(0x19d)]('You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first'),await this[_0x11bb48(0x176)]()):(console[_0x11bb48(0x16e)](_0x11bb48(0x174)),await this[_0x11bb48(0x176)]());}}catch(_0x598d45){throw _0x598d45;}}async[a4_0x4993bb(0x190)](){const _0x164f54=a4_0x4993bb;try{const _0x1ea6b0=Helper[_0x164f54(0x185)]('sessions');let _0x147863=_0x164f54(0x18a);for(const _0x2ebba2 of _0x1ea6b0){_0x147863+=_0x1ea6b0[_0x164f54(0x177)](_0x2ebba2)+0x1+'.\x20'+_0x2ebba2+'\x0a';}_0x1ea6b0[_0x164f54(0x172)]==0x0?_0x147863+=_0x164f54(0x180):_0x147863+=_0x164f54(0x183);const _0x3e2455=await a4_0x50ab39[_0x164f54(0x181)](_0x147863);this[_0x164f54(0x168)]=Helper[_0x164f54(0x17c)](_0x3e2455),await this[_0x164f54(0x196)](this[_0x164f54(0x168)]),await this[_0x164f54(0x165)](),a4_0x1d6d8a['info']('Session\x20'+this[_0x164f54(0x168)]+'\x20-\x20Created'),console[_0x164f54(0x19c)]('Session\x20'+this[_0x164f54(0x168)]+'\x20-\x20Created'),this[_0x164f54(0x199)][_0x164f54(0x194)](),await Helper[_0x164f54(0x18e)](0xbb8),await this[_0x164f54(0x197)]();}catch(_0x3331f6){throw _0x3331f6;}}async['useSession'](_0x58031a,_0x492c4f){const _0x47bc75=a4_0x4993bb;try{this[_0x47bc75(0x173)]=_0x492c4f;const _0x50f525={'connectionRetries':0x5};this[_0x47bc75(0x173)]&&(_0x50f525['agent']=new HttpsProxyAgent(this[_0x47bc75(0x173)])),this[_0x47bc75(0x199)]=new StoreSession(_0x58031a),this[_0x47bc75(0x19b)]=new TelegramClient(this[_0x47bc75(0x199)],Config['TELEGRAM_APP_ID'],Config['TELEGRAM_APP_HASH'],_0x50f525),this[_0x47bc75(0x199)][_0x47bc75(0x194)](),await this['client']['start']({'phoneNumber':async()=>await a4_0x50ab39[_0x47bc75(0x181)](_0x47bc75(0x179)),'password':async()=>await a4_0x50ab39['text'](_0x47bc75(0x189)),'phoneCode':async()=>await a4_0x50ab39[_0x47bc75(0x181)](_0x47bc75(0x167)),'onError':_0x5454f0=>{console['log'](_0x5454f0['message']);}}),console[_0x47bc75(0x19c)]();}catch(_0x2e4d34){throw _0x2e4d34;}}async[a4_0x4993bb(0x17b)](){const _0x2b32c4=a4_0x4993bb;try{a4_0x1d6d8a[_0x2b32c4(0x19d)]('Session\x20'+this[_0x2b32c4(0x18c)]+'\x20-\x20Resolving\x20Peer');while(this[_0x2b32c4(0x170)]==undefined){try{this[_0x2b32c4(0x170)]=await this[_0x2b32c4(0x19b)]['getEntity'](this[_0x2b32c4(0x187)]);break;}catch(_0x116905){if(_0x116905 instanceof FloodWaitError){const _0x3fe828=_0x116905[_0x2b32c4(0x175)];a4_0x1d6d8a[_0x2b32c4(0x193)](this[_0x2b32c4(0x19b)][_0x2b32c4(0x18c)]['serverAddress']+_0x2b32c4(0x192)+_0x116905),a4_0x1d6d8a[_0x2b32c4(0x19d)](this[_0x2b32c4(0x19b)][_0x2b32c4(0x18c)]['serverAddress']+_0x2b32c4(0x16b)+_0x3fe828+'s'),await Helper[_0x2b32c4(0x18e)]((_0x3fe828+0x3)*0x3e8);}else throw _0x116905;}}}catch(_0x41abcc){throw _0x41abcc;}}async[a4_0x4993bb(0x165)](){const _0x7596ef=a4_0x4993bb;await this[_0x7596ef(0x19b)][_0x7596ef(0x165)](),await this[_0x7596ef(0x19b)]['destroy'](),this[_0x7596ef(0x170)]=undefined,this[_0x7596ef(0x168)]=undefined;}async[a4_0x4993bb(0x178)](){const _0x4ecbce=a4_0x4993bb;try{const _0x5b02fa=await this[_0x4ecbce(0x19b)][_0x4ecbce(0x18f)](new Api[(_0x4ecbce(0x166))][(_0x4ecbce(0x171))]({'peer':this[_0x4ecbce(0x170)],'bot':this[_0x4ecbce(0x170)],'fromBotMenu':!![],'url':this[_0x4ecbce(0x16d)],'platform':_0x4ecbce(0x17f)}));a4_0x1d6d8a[_0x4ecbce(0x19d)]('Session\x20'+this[_0x4ecbce(0x18c)]+_0x4ecbce(0x17d));const _0x485232=_0x5b02fa[_0x4ecbce(0x16d)];return Helper[_0x4ecbce(0x184)](_0x485232,0x3);}catch(_0x3cbeec){throw _0x3cbeec;}}}function a4_0x5afe(){const _0x1e2852=['client','log','info','4604940LlOYkY','disconnect','messages','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','sessionName','resetSession','68PGOBhV','\x20|\x20Sleep\x20','sessions','url','error','stringify','peer','RequestWebView','length','proxy','Invalid\x20input,\x20Please\x20try\x20again','seconds','onBoarding','indexOf','initWebView','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','resolvePeer','createDir','\x20-\x20Webview\x20Connected','10932300lBDxWX','android','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','text','1744VjxjJf','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','getTelegramQuery','getSession','6xykWYi','bot','1236830RcRGPr','Enter\x20your\x20Telegram\x20Password?','Your\x20session\x20List\x20:\x0a\x20\x0a','6xsOUXL','session','1707324dQzabK','delay','invoke','sessionCreation','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','\x20|\x20FloodWait\x20','warn','save','11350766LDYcQZ','useSession','init','4515672adveWT','storeSession','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a'];a4_0x5afe=function(){return _0x1e2852;};return a4_0x5afe();}