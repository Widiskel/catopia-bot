const a3_0x3bb209=a3_0x5b0a;(function(_0x51d84c,_0x1c9228){const _0x13b45a=a3_0x5b0a,_0xf266af=_0x51d84c();while(!![]){try{const _0x173750=-parseInt(_0x13b45a(0x1a8))/0x1*(parseInt(_0x13b45a(0x1c9))/0x2)+parseInt(_0x13b45a(0x1ce))/0x3+-parseInt(_0x13b45a(0x1a2))/0x4+-parseInt(_0x13b45a(0x1b0))/0x5+-parseInt(_0x13b45a(0x1a4))/0x6*(parseInt(_0x13b45a(0x1ab))/0x7)+parseInt(_0x13b45a(0x1c6))/0x8+parseInt(_0x13b45a(0x1ad))/0x9;if(_0x173750===_0x1c9228)break;else _0xf266af['push'](_0xf266af['shift']());}catch(_0x217248){_0xf266af['push'](_0xf266af['shift']());}}}(a3_0x1d0f,0x5d43a));import a3_0x2ca381 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';function a3_0x5b0a(_0x3f8a66,_0xceae5a){const _0x1d0fd2=a3_0x1d0f();return a3_0x5b0a=function(_0x5b0a1f,_0x416285){_0x5b0a1f=_0x5b0a1f-0x19c;let _0x41f792=_0x1d0fd2[_0x5b0a1f];return _0x41f792;},a3_0x5b0a(_0x3f8a66,_0xceae5a);}import a3_0x5e9162 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';function a3_0x1d0f(){const _0x4d2762=['18626256RCkbmJ','sessionName','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','2166455ZkRNPX','sessionCreation','message','\x20|\x20FloodWait\x20','\x20|\x20Sleep\x20','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','save','peer','length','log','init','storeSession','seconds','onBoarding','TELEGRAM_APP_ID','TELEGRAM_APP_HASH','error','\x20-\x20Created','catopia_game_bot','start','useSession','initWebView','453968ryyfAT','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','info','167558PKqLPd','serverAddress','url','getEntity','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','1806045GUaggZ','createDir','invoke','Session\x20','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','getSession','disconnect','warn','session','sessions','3052596GBqFgT','bot','307332rUXcRj','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','text','getTelegramQuery','7QUdfXM','client','Your\x20session\x20List\x20:\x0a\x20\x0a','77VEhKHi','android'];a3_0x1d0f=function(){return _0x4d2762;};return a3_0x1d0f();}export class Telegram{['storeSession'];constructor(){const _0x229bcb=a3_0x5b0a;this['sessionName']=_0x229bcb(0x1a1),this[_0x229bcb(0x1cb)]='https://cowtopia-prod.tonfarmer.com/',this[_0x229bcb(0x1a3)]=_0x229bcb(0x1c2);}async[a3_0x3bb209(0x1ba)](){const _0x1ecb1d=a3_0x3bb209;try{await this[_0x1ecb1d(0x1bd)]();}catch(_0x38bba9){console[_0x1ecb1d(0x1b9)](_0x38bba9),a3_0x5e9162[_0x1ecb1d(0x1c0)](''+JSON['stringify'](_0x38bba9));throw _0x38bba9;}}async['onBoarding'](){const _0x2254a2=a3_0x3bb209;try{let _0x5d6de6=_0x2254a2(0x19c);const _0x1e793=Helper['getSession'](_0x2254a2(0x1a1));if(_0x1e793[_0x2254a2(0x1b8)]==0x0)_0x5d6de6+=_0x2254a2(0x1d2);else for(const _0x17d5ff of _0x1e793){_0x5d6de6+='-\x20'+_0x17d5ff+'\x0a';}_0x5d6de6+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x5d6de6+=_0x2254a2(0x1cd);const _0x1daee2=await a3_0x2ca381[_0x2254a2(0x1a6)](_0x5d6de6);if(_0x1daee2==0x1)await this[_0x2254a2(0x1b1)]();else{if(_0x1daee2==0x2)Helper['resetSession'](this[_0x2254a2(0x1ae)]),await Helper['delay'](0xbb8),await this['onBoarding']();else _0x1daee2==0x3?Helper[_0x2254a2(0x19d)](this[_0x2254a2(0x1ae)])?.[_0x2254a2(0x1b8)]==0x0&&(console['info'](_0x2254a2(0x1af)),await this[_0x2254a2(0x1bd)]()):(console[_0x2254a2(0x1c0)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x2254a2(0x1bd)]());}}catch(_0x1b7c40){throw _0x1b7c40;}}async[a3_0x3bb209(0x1b1)](){const _0x444ef5=a3_0x3bb209;try{const _0x42c84b=Helper[_0x444ef5(0x19d)](_0x444ef5(0x1a1));let _0x284f67=_0x444ef5(0x1aa);for(const _0x31905b of _0x42c84b){_0x284f67+=_0x42c84b['indexOf'](_0x31905b)+0x1+'.\x20'+_0x31905b+'\x0a';}_0x42c84b[_0x444ef5(0x1b8)]==0x0?_0x284f67+=_0x444ef5(0x1d2):_0x284f67+=_0x444ef5(0x1c7);const _0x43ff33=await a3_0x2ca381[_0x444ef5(0x1a6)](_0x284f67);this[_0x444ef5(0x1ae)]=Helper[_0x444ef5(0x1cf)](_0x43ff33),await this[_0x444ef5(0x1c4)](this[_0x444ef5(0x1ae)]),await this['disconnect'](),a3_0x5e9162[_0x444ef5(0x1c8)](_0x444ef5(0x1d1)+this[_0x444ef5(0x1ae)]+_0x444ef5(0x1c1)),console[_0x444ef5(0x1b9)]('Session\x20'+this[_0x444ef5(0x1ae)]+_0x444ef5(0x1c1)),this['storeSession'][_0x444ef5(0x1b6)](),await Helper['delay'](0xbb8),await this[_0x444ef5(0x1ba)]();}catch(_0x321875){throw _0x321875;}}async[a3_0x3bb209(0x1c4)](_0x542fb6){const _0x436527=a3_0x3bb209;try{this['storeSession']=new StoreSession(_0x542fb6),this['client']=new TelegramClient(this[_0x436527(0x1bb)],Config[_0x436527(0x1be)],Config[_0x436527(0x1bf)],{'connectionRetries':0x5}),this[_0x436527(0x1bb)][_0x436527(0x1b6)](),await this['client'][_0x436527(0x1c3)]({'phoneNumber':async()=>await a3_0x2ca381[_0x436527(0x1a6)](_0x436527(0x1a5)),'password':async()=>await a3_0x2ca381['text']('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x2ca381[_0x436527(0x1a6)](_0x436527(0x1b5)),'onError':_0xd05352=>{const _0x4c7786=_0x436527;console[_0x4c7786(0x1b9)](_0xd05352[_0x4c7786(0x1b2)]);}}),console['log']();}catch(_0x1d2ca4){throw _0x1d2ca4;}}async['resolvePeer'](){const _0x83ce9a=a3_0x3bb209;try{a3_0x5e9162[_0x83ce9a(0x1c8)](_0x83ce9a(0x1d1)+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x83ce9a(0x1b7)]==undefined){try{this['peer']=await this[_0x83ce9a(0x1a9)][_0x83ce9a(0x1cc)](this[_0x83ce9a(0x1a3)]);break;}catch(_0x276d95){if(_0x276d95 instanceof FloodWaitError){const _0xaec164=_0x276d95[_0x83ce9a(0x1bc)];a3_0x5e9162[_0x83ce9a(0x19f)](this[_0x83ce9a(0x1a9)][_0x83ce9a(0x1a0)][_0x83ce9a(0x1ca)]+_0x83ce9a(0x1b3)+_0x276d95),a3_0x5e9162[_0x83ce9a(0x1c8)](this[_0x83ce9a(0x1a9)][_0x83ce9a(0x1a0)][_0x83ce9a(0x1ca)]+_0x83ce9a(0x1b4)+_0xaec164+'s'),await Helper['delay']((_0xaec164+0x3)*0x3e8);}else throw _0x276d95;}}}catch(_0x4270dc){throw _0x4270dc;}}async[a3_0x3bb209(0x19e)](){const _0x2edad4=a3_0x3bb209;await this['client'][_0x2edad4(0x19e)](),await this['client']['destroy'](),this[_0x2edad4(0x1b7)]=undefined,this[_0x2edad4(0x1ae)]=undefined;}async[a3_0x3bb209(0x1c5)](){const _0x47f963=a3_0x3bb209;try{const _0x2c39d2=await this['client'][_0x47f963(0x1d0)](new Api['messages']['RequestWebView']({'peer':this[_0x47f963(0x1b7)],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0x47f963(0x1cb)],'platform':_0x47f963(0x1ac)}));a3_0x5e9162[_0x47f963(0x1c8)]('Session\x20'+this[_0x47f963(0x1a0)]+'\x20-\x20Webview\x20Connected');const _0x4a3e5c=_0x2c39d2[_0x47f963(0x1cb)];return Helper[_0x47f963(0x1a7)](_0x4a3e5c,0x3);}catch(_0x147005){throw _0x147005;}}}