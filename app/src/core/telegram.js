const a4_0x4a81b6=a4_0x118e;(function(_0x59efa3,_0x441738){const _0x449713=a4_0x118e,_0x595d74=_0x59efa3();while(!![]){try{const _0xab21b1=-parseInt(_0x449713(0xfa))/0x1*(-parseInt(_0x449713(0xf7))/0x2)+-parseInt(_0x449713(0x10a))/0x3+parseInt(_0x449713(0x108))/0x4+-parseInt(_0x449713(0xff))/0x5+parseInt(_0x449713(0x112))/0x6*(parseInt(_0x449713(0xe9))/0x7)+parseInt(_0x449713(0x10e))/0x8*(-parseInt(_0x449713(0xf6))/0x9)+parseInt(_0x449713(0x10d))/0xa;if(_0xab21b1===_0x441738)break;else _0x595d74['push'](_0x595d74['shift']());}catch(_0x48d7d5){_0x595d74['push'](_0x595d74['shift']());}}}(a4_0x31db,0x2dbb6));import a4_0x373d3a from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0xb136c4 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a4_0x31db(){const _0xf78658=['\x20-\x20Created','error','proxy','7pkjmPd','sessionName','url','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','storeSession','message','sessions','useSession','length','Enter\x20your\x20Telegram\x20Password?','stringify','RequestWebView','onBoarding','215046ntBBlv','8fBPgxJ','messages','indexOf','19600vVGmkO','session','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','save','1057320qrMjAf','log','seconds','resetSession','agent','peer','client','text','info','858904gaxsIf','\x20|\x20Sleep\x20','712263BuaiqH','getSession','init','3149540wfIFsR','32ZXTHpg','android','https://cowtopia-prod.tonfarmer.com/','\x20-\x20Resolving\x20Peer','742194rYHQQM','delay','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','getTelegramQuery','Session\x20','Your\x20session\x20List\x20:\x0a\x20\x0a','sessionCreation','invoke','start','disconnect','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','\x20-\x20Webview\x20Connected','serverAddress','TELEGRAM_APP_HASH','warn','resolvePeer','bot','initWebView','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'];a4_0x31db=function(){return _0xf78658;};return a4_0x31db();}import{Config}from'../../config/config.js';function a4_0x118e(_0x3e48ef,_0xb77b7a){const _0x31dbb8=a4_0x31db();return a4_0x118e=function(_0x118ecf,_0x465147){_0x118ecf=_0x118ecf-0xe1;let _0x43fa10=_0x31dbb8[_0x118ecf];return _0x43fa10;},a4_0x118e(_0x3e48ef,_0xb77b7a);}import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a4_0x4a81b6(0xed)];constructor(){const _0x3c6d0d=a4_0x4a81b6;this['sessionName']=_0x3c6d0d(0xef),this[_0x3c6d0d(0xeb)]=_0x3c6d0d(0x110),this[_0x3c6d0d(0xe3)]='catopia_game_bot';}async[a4_0x4a81b6(0x10c)](){const _0x5299a1=a4_0x4a81b6;try{await this[_0x5299a1(0xf5)]();}catch(_0x17fabb){console[_0x5299a1(0x100)](_0x17fabb),a4_0xb136c4[_0x5299a1(0xe7)](''+JSON[_0x5299a1(0xf3)](_0x17fabb));throw _0x17fabb;}}async[a4_0x4a81b6(0xf5)](){const _0xb4c771=a4_0x4a81b6;try{let _0x4dbf61='Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a';const _0x32fb0a=Helper[_0xb4c771(0x10b)](_0xb4c771(0xef));if(_0x32fb0a[_0xb4c771(0xf1)]==0x0)_0x4dbf61+=_0xb4c771(0xfd);else for(const _0x1a294b of _0x32fb0a){_0x4dbf61+='-\x20'+_0x1a294b+'\x0a';}_0x4dbf61+=_0xb4c771(0xfc),_0x4dbf61+=_0xb4c771(0x114);const _0x4a1347=await a4_0x373d3a[_0xb4c771(0x106)](_0x4dbf61);if(_0x4a1347==0x1)await this[_0xb4c771(0x118)]();else{if(_0x4a1347==0x2)Helper[_0xb4c771(0x102)](this[_0xb4c771(0xea)]),await Helper['delay'](0xbb8),await this[_0xb4c771(0xf5)]();else _0x4a1347==0x3?Helper[_0xb4c771(0x10b)](this['sessionName'])?.[_0xb4c771(0xf1)]==0x0&&(console[_0xb4c771(0x107)](_0xb4c771(0x11d)),await this['onBoarding']()):(console[_0xb4c771(0xe7)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0xb4c771(0xf5)]());}}catch(_0x10cc6d){throw _0x10cc6d;}}async[a4_0x4a81b6(0x118)](){const _0x116f4f=a4_0x4a81b6;try{const _0x38c0d1=Helper['getSession'](_0x116f4f(0xef));let _0x362856=_0x116f4f(0x117);for(const _0x5d3e91 of _0x38c0d1){_0x362856+=_0x38c0d1[_0x116f4f(0xf9)](_0x5d3e91)+0x1+'.\x20'+_0x5d3e91+'\x0a';}_0x38c0d1[_0x116f4f(0xf1)]==0x0?_0x362856+=_0x116f4f(0xfd):_0x362856+=_0x116f4f(0xec);const _0x2fca72=await a4_0x373d3a[_0x116f4f(0x106)](_0x362856);this[_0x116f4f(0xea)]=Helper['createDir'](_0x2fca72),await this[_0x116f4f(0xf0)](this[_0x116f4f(0xea)]),await this['disconnect'](),a4_0xb136c4['info'](_0x116f4f(0x116)+this['sessionName']+_0x116f4f(0xe6)),console[_0x116f4f(0x100)](_0x116f4f(0x116)+this[_0x116f4f(0xea)]+_0x116f4f(0xe6)),this['storeSession'][_0x116f4f(0xfe)](),await Helper['delay'](0xbb8),await this[_0x116f4f(0x10c)]();}catch(_0x209146){throw _0x209146;}}async['useSession'](_0x270b0c,_0x5995ec){const _0x32ccb3=a4_0x4a81b6;try{this[_0x32ccb3(0xe8)]=_0x5995ec;const _0x2fd43c={'connectionRetries':0x5};this[_0x32ccb3(0xe8)]&&(_0x2fd43c[_0x32ccb3(0x103)]=new HttpsProxyAgent(this['proxy'])),this[_0x32ccb3(0xed)]=new StoreSession(_0x270b0c),this[_0x32ccb3(0x105)]=new TelegramClient(this[_0x32ccb3(0xed)],Config['TELEGRAM_APP_ID'],Config[_0x32ccb3(0x120)],_0x2fd43c),this['storeSession'][_0x32ccb3(0xfe)](),await this['client'][_0x32ccb3(0x11a)]({'phoneNumber':async()=>await a4_0x373d3a[_0x32ccb3(0x106)](_0x32ccb3(0xe5)),'password':async()=>await a4_0x373d3a['text'](_0x32ccb3(0xf2)),'phoneCode':async()=>await a4_0x373d3a[_0x32ccb3(0x106)](_0x32ccb3(0x11c)),'onError':_0x5dc6c7=>{const _0x3144a1=_0x32ccb3;console[_0x3144a1(0x100)](_0x5dc6c7[_0x3144a1(0xee)]);}}),console[_0x32ccb3(0x100)]();}catch(_0x40f72a){throw _0x40f72a;}}async[a4_0x4a81b6(0xe2)](){const _0x460f9d=a4_0x4a81b6;try{a4_0xb136c4['info'](_0x460f9d(0x116)+this[_0x460f9d(0xfb)]+_0x460f9d(0x111));while(this[_0x460f9d(0x104)]==undefined){try{this[_0x460f9d(0x104)]=await this[_0x460f9d(0x105)]['getEntity'](this['bot']);break;}catch(_0x3fa8a9){if(_0x3fa8a9 instanceof FloodWaitError){const _0x226181=_0x3fa8a9[_0x460f9d(0x101)];a4_0xb136c4[_0x460f9d(0xe1)](this[_0x460f9d(0x105)][_0x460f9d(0xfb)][_0x460f9d(0x11f)]+'\x20|\x20FloodWait\x20'+_0x3fa8a9),a4_0xb136c4[_0x460f9d(0x107)](this['client'][_0x460f9d(0xfb)][_0x460f9d(0x11f)]+_0x460f9d(0x109)+_0x226181+'s'),await Helper[_0x460f9d(0x113)]((_0x226181+0x3)*0x3e8);}else throw _0x3fa8a9;}}}catch(_0xe67091){throw _0xe67091;}}async['disconnect'](){const _0x2f27b6=a4_0x4a81b6;await this[_0x2f27b6(0x105)][_0x2f27b6(0x11b)](),await this[_0x2f27b6(0x105)]['destroy'](),this[_0x2f27b6(0x104)]=undefined,this[_0x2f27b6(0xea)]=undefined;}async[a4_0x4a81b6(0xe4)](){const _0x538180=a4_0x4a81b6;try{const _0x59104f=await this[_0x538180(0x105)][_0x538180(0x119)](new Api[(_0x538180(0xf8))][(_0x538180(0xf4))]({'peer':this['peer'],'bot':this[_0x538180(0x104)],'fromBotMenu':!![],'url':this[_0x538180(0xeb)],'platform':_0x538180(0x10f)}));a4_0xb136c4[_0x538180(0x107)](_0x538180(0x116)+this['session']+_0x538180(0x11e));const _0x2935c0=_0x59104f[_0x538180(0xeb)];return Helper[_0x538180(0x115)](_0x2935c0,0x3);}catch(_0x5cc8a7){throw _0x5cc8a7;}}}