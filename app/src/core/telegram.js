const a4_0x5eb6d0=a4_0x39e3;(function(_0x1720dc,_0x29c4a7){const _0x37591b=a4_0x39e3,_0x12bf44=_0x1720dc();while(!![]){try{const _0x27764=-parseInt(_0x37591b(0x7b))/0x1*(parseInt(_0x37591b(0x97))/0x2)+-parseInt(_0x37591b(0x7c))/0x3+parseInt(_0x37591b(0xa3))/0x4*(parseInt(_0x37591b(0x9b))/0x5)+-parseInt(_0x37591b(0xaa))/0x6+-parseInt(_0x37591b(0xae))/0x7+parseInt(_0x37591b(0xb2))/0x8*(parseInt(_0x37591b(0xb0))/0x9)+parseInt(_0x37591b(0x98))/0xa;if(_0x27764===_0x29c4a7)break;else _0x12bf44['push'](_0x12bf44['shift']());}catch(_0x4569be){_0x12bf44['push'](_0x12bf44['shift']());}}}(a4_0x4a22,0x227ea));import a4_0x25a14a from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a4_0x39e3(_0x196dc7,_0x408978){const _0x4a22dc=a4_0x4a22();return a4_0x39e3=function(_0x39e347,_0x3c2abc){_0x39e347=_0x39e347-0x7b;let _0x15a7f4=_0x4a22dc[_0x39e347];return _0x15a7f4;},a4_0x39e3(_0x196dc7,_0x408978);}import{StoreSession}from'telegram/sessions/StoreSession.js';import a4_0x20cce7 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a4_0x5eb6d0(0x9a)];constructor(){const _0x159db7=a4_0x5eb6d0;this[_0x159db7(0x87)]=_0x159db7(0xa8),this[_0x159db7(0x94)]=_0x159db7(0x7e),this['bot']='catopia_game_bot';}async[a4_0x5eb6d0(0xaf)](){const _0x2e30aa=a4_0x5eb6d0;try{await this['onBoarding']();}catch(_0x3671d6){console[_0x2e30aa(0xab)](_0x3671d6),a4_0x20cce7['error'](''+JSON[_0x2e30aa(0x7f)](_0x3671d6));throw _0x3671d6;}}async[a4_0x5eb6d0(0x95)](){const _0x59c8a2=a4_0x5eb6d0;try{let _0x30f539=_0x59c8a2(0x96);const _0x12265b=Helper['getSession']('sessions');if(_0x12265b[_0x59c8a2(0x99)]==0x0)_0x30f539+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:';else for(const _0x33ae99 of _0x12265b){_0x30f539+='-\x20'+_0x33ae99+'\x0a';}_0x30f539+=_0x59c8a2(0x8e),_0x30f539+=_0x59c8a2(0x81);const _0x3e46e9=await a4_0x25a14a[_0x59c8a2(0x91)](_0x30f539);if(_0x3e46e9==0x1)await this[_0x59c8a2(0xa7)]();else{if(_0x3e46e9==0x2)Helper[_0x59c8a2(0xb4)](this[_0x59c8a2(0x87)]),await Helper['delay'](0xbb8),await this[_0x59c8a2(0x95)]();else _0x3e46e9==0x3?Helper['getSession'](this[_0x59c8a2(0x87)])?.['length']==0x0&&(console[_0x59c8a2(0x84)](_0x59c8a2(0x89)),await this[_0x59c8a2(0x95)]()):(console['error'](_0x59c8a2(0x82)),await this['onBoarding']());}}catch(_0x479031){throw _0x479031;}}async['sessionCreation'](){const _0x1563b8=a4_0x5eb6d0;try{const _0x4a18f9=Helper[_0x1563b8(0xb6)](_0x1563b8(0xa8));let _0x4d3acf=_0x1563b8(0x9d);for(const _0x30988d of _0x4a18f9){_0x4d3acf+=_0x4a18f9[_0x1563b8(0xac)](_0x30988d)+0x1+'.\x20'+_0x30988d+'\x0a';}_0x4a18f9[_0x1563b8(0x99)]==0x0?_0x4d3acf+=_0x1563b8(0xb9):_0x4d3acf+=_0x1563b8(0x85);const _0x5cb670=await a4_0x25a14a[_0x1563b8(0x91)](_0x4d3acf);this['sessionName']=Helper[_0x1563b8(0x9f)](_0x5cb670),await this[_0x1563b8(0x8a)](this[_0x1563b8(0x87)]),await this[_0x1563b8(0xb5)](),a4_0x20cce7[_0x1563b8(0x84)](_0x1563b8(0x80)+this[_0x1563b8(0x87)]+_0x1563b8(0xa2)),console['log'](_0x1563b8(0x80)+this['sessionName']+_0x1563b8(0xa2)),this[_0x1563b8(0x9a)][_0x1563b8(0xad)](),await Helper['delay'](0xbb8),await this[_0x1563b8(0xaf)]();}catch(_0x4d356f){throw _0x4d356f;}}async[a4_0x5eb6d0(0x8a)](_0x1a2f3b,_0x1ce843){const _0x2bc366=a4_0x5eb6d0;try{this[_0x2bc366(0x8c)]=_0x1ce843;const _0x490a2f={'connectionRetries':0x5};this[_0x2bc366(0x8c)]&&(_0x490a2f[_0x2bc366(0xa4)]=new HttpsProxyAgent(this[_0x2bc366(0x8c)])),this[_0x2bc366(0x9a)]=new StoreSession(_0x1a2f3b),this[_0x2bc366(0xa6)]=new TelegramClient(this[_0x2bc366(0x9a)],Config[_0x2bc366(0x9c)],Config[_0x2bc366(0x8f)],_0x490a2f),this[_0x2bc366(0x9a)][_0x2bc366(0xad)](),await this['client'][_0x2bc366(0xa9)]({'phoneNumber':async()=>await a4_0x25a14a['text'](_0x2bc366(0x83)),'password':async()=>await a4_0x25a14a[_0x2bc366(0x91)](_0x2bc366(0xb8)),'phoneCode':async()=>await a4_0x25a14a[_0x2bc366(0x91)](_0x2bc366(0xa1)),'onError':_0x58d6db=>{const _0x4168bb=_0x2bc366;console['log'](_0x58d6db[_0x4168bb(0x8d)]);}}),console[_0x2bc366(0xab)]();}catch(_0x129e5f){throw _0x129e5f;}}async[a4_0x5eb6d0(0xa5)](){const _0x1e65aa=a4_0x5eb6d0;try{a4_0x20cce7[_0x1e65aa(0x84)](_0x1e65aa(0x80)+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x1e65aa(0xa0)]==undefined){try{this[_0x1e65aa(0xa0)]=await this['client'][_0x1e65aa(0xb3)](this[_0x1e65aa(0x90)]);break;}catch(_0x5f5a5a){if(_0x5f5a5a instanceof FloodWaitError){const _0xeac6c7=_0x5f5a5a[_0x1e65aa(0x93)];a4_0x20cce7[_0x1e65aa(0x86)](this[_0x1e65aa(0xa6)][_0x1e65aa(0x88)]['serverAddress']+_0x1e65aa(0x9e)+_0x5f5a5a),a4_0x20cce7[_0x1e65aa(0x84)](this[_0x1e65aa(0xa6)]['session'][_0x1e65aa(0xba)]+_0x1e65aa(0xb7)+_0xeac6c7+'s'),await Helper[_0x1e65aa(0xbb)]((_0xeac6c7+0x3)*0x3e8);}else throw _0x5f5a5a;}}}catch(_0x1412a6){throw _0x1412a6;}}async[a4_0x5eb6d0(0xb5)](){const _0x63e439=a4_0x5eb6d0;await this['client']['disconnect'](),await this[_0x63e439(0xa6)]['destroy'](),this[_0x63e439(0xa0)]=undefined,this[_0x63e439(0x87)]=undefined;}async[a4_0x5eb6d0(0x92)](){const _0x113579=a4_0x5eb6d0;try{const _0x364028=await this['client']['invoke'](new Api[(_0x113579(0x8b))][(_0x113579(0x7d))]({'peer':this[_0x113579(0xa0)],'bot':this[_0x113579(0xa0)],'fromBotMenu':!![],'url':this[_0x113579(0x94)],'platform':_0x113579(0xb1)}));a4_0x20cce7[_0x113579(0x84)]('Session\x20'+this[_0x113579(0x88)]+'\x20-\x20Webview\x20Connected');const _0x3fc6e4=_0x364028[_0x113579(0x94)];return Helper['getTelegramQuery'](_0x3fc6e4,0x3);}catch(_0xe35786){throw _0xe35786;}}}function a4_0x4a22(){const _0x4b7a79=['Invalid\x20input,\x20Please\x20try\x20again','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','info','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','warn','sessionName','session','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','useSession','messages','proxy','message','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','TELEGRAM_APP_HASH','bot','text','initWebView','seconds','url','onBoarding','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','56sCIZsL','6477370vshvRn','length','storeSession','160705iZVpdB','TELEGRAM_APP_ID','Your\x20session\x20List\x20:\x0a\x20\x0a','\x20|\x20FloodWait\x20','createDir','peer','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','\x20-\x20Created','16FVEram','agent','resolvePeer','client','sessionCreation','sessions','start','1322964yQmIAn','log','indexOf','save','1926785HXaHEI','init','63GNqusC','android','34904vQdEoN','getEntity','resetSession','disconnect','getSession','\x20|\x20Sleep\x20','Enter\x20your\x20Telegram\x20Password?','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','serverAddress','delay','4075pTyhLg','167109qeYSjT','RequestWebView','https://cowtopia-prod.tonfarmer.com/','stringify','Session\x20','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:'];a4_0x4a22=function(){return _0x4b7a79;};return a4_0x4a22();}