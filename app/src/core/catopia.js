function a2_0x935d(){const _0x1c7d14=['Getting\x20User\x20Info...','WSS\x20Handshake\x20Error:\x20','title','join','data','query','user','toLowerCase','info','success','Getting\x20Missions...','missions','4EeHnBy','...','992668QNiPsP','923480uZGKra','connect_timeout','getAvailablePlant','/api/v1/players/plant?limit=3000','disconnect','connect','\x20GOLD','gold','18xNnrKp','Successfully\x20Get\x20Player\x20Plant','plainToken','map','/api/v1/players/land?limit=3000','WSS\x20Error\x20:\x20','Successfully\x20Login','22520uuchCg','getUser','delay','token','name','4739161uqlODG','Successfully\x20Get\x20User\x20Info','fetch','websocket','/api/v1/user/daily-mission/','WSS\x20Connection\x20Error:\x20','getSeedList','Successfully\x20Claim\x20Misisons','Error\x20:\x20','Socket\x20ID:\x20','message','mission','harvestAll','/api/v1/players/plant/harvestAll','Buying\x20Grapes...','POSt','4445580nsjnok','plantSeed','WSS\x20Handshake\x20Timeout','Successfully\x20Get\x20Seed\x20List','Getting\x20Seed\x20List...','31565czDeDj','account','WSS\x20Connection\x20Closed\x20','/api/v1/user/daily-mission?limit=3000','GET','https://api.catopia.io','plantString','Claiming\x20Missions\x20','buyingGrapes','reduce','WSS\x20Connection\x20Timeout','Successfully\x20Get\x20User\x20Land\x20Info','Successfully\x20Harvest\x20All\x20Plant\x20Got\x20','getMission','login','refreshToken','error','plant','Successfully\x20Buying\x201\x20Grapes','POST','queryObj','socket','\x20GEM\x20&\x20','Connecting\x20to\x20WSS...','Getting\x20User\x20Land\x20Info...','12sDuBlw','getLands','/api/v1/seed?limit=3000','seed','wss://cowtopia-ws.tonfarmer.com','WSS\x20Disconnected:\x20','Try\x20to\x20Login...','2794nQfaah','22271ZQprWe','entries','Successfully\x20planting\x20grapes\x20to\x20land\x20'];a2_0x935d=function(){return _0x1c7d14;};return a2_0x935d();}const a2_0x5e7868=a2_0x146e;(function(_0x4e2b45,_0x311bfe){const _0x44474a=a2_0x146e,_0x5e4697=_0x4e2b45();while(!![]){try{const _0x4a09ec=parseInt(_0x44474a(0x21a))/0x1*(-parseInt(_0x44474a(0x229))/0x2)+-parseInt(_0x44474a(0x212))/0x3*(-parseInt(_0x44474a(0x22b))/0x4)+-parseInt(_0x44474a(0x1f9))/0x5+parseInt(_0x44474a(0x1f4))/0x6+-parseInt(_0x44474a(0x1e4))/0x7+parseInt(_0x44474a(0x22c))/0x8*(parseInt(_0x44474a(0x234))/0x9)+-parseInt(_0x44474a(0x1df))/0xa*(parseInt(_0x44474a(0x219))/0xb);if(_0x4a09ec===_0x311bfe)break;else _0x5e4697['push'](_0x5e4697['shift']());}catch(_0x5e7aa9){_0x5e4697['push'](_0x5e4697['shift']());}}}(a2_0x935d,0xa2406));function a2_0x146e(_0x9a7024,_0x2eed49){const _0x935dae=a2_0x935d();return a2_0x146e=function(_0x146eec,_0x3996f2){_0x146eec=_0x146eec-0x1df;let _0x10ad0f=_0x935dae[_0x146eec];return _0x10ad0f;},a2_0x146e(_0x9a7024,_0x2eed49);}import{API}from'../api/api.js';import{Helper}from'../utils/helper.js';import a2_0x562737 from'../utils/logger.js';import{io}from'socket.io-client';export class Catopia extends API{constructor(_0x1b337e,_0x23778b,_0x33120d){const _0x441a26=a2_0x146e;super(_0x23778b,_0x441a26(0x1fe)),this['account']=_0x1b337e,this[_0x441a26(0x222)]=_0x23778b,this[_0x441a26(0x20d)]=_0x33120d;}async[a2_0x5e7868(0x207)](){const _0x439a5b=a2_0x5e7868;try{await Helper['delay'](0x1f4,this[_0x439a5b(0x1fa)],_0x439a5b(0x218),this);const _0x2c2c37=await this[_0x439a5b(0x1e6)]('/api/v1/auth/telegram',_0x439a5b(0x20c),undefined,{'initData':this[_0x439a5b(0x222)]});await Helper['delay'](0x3e8,this['account'],_0x439a5b(0x23a),this),this['token']=_0x2c2c37['data']['accessToken'],this['refreshToken']=_0x2c2c37[_0x439a5b(0x208)];}catch(_0x331bc6){throw _0x331bc6;}}async[a2_0x5e7868(0x1e0)](_0x367b99=![]){const _0x149f69=a2_0x5e7868;try{if(_0x367b99)await Helper[_0x149f69(0x1e1)](0x1f4,this[_0x149f69(0x1fa)],_0x149f69(0x21d),this);const _0x5237ee=await this[_0x149f69(0x1e6)]('/api/v1/user-collection?limit=3000',_0x149f69(0x1fd),this[_0x149f69(0x1e2)]);if(_0x5237ee['success']==!![]){if(_0x367b99)await Helper['delay'](0x3e8,this['account'],_0x149f69(0x1e5),this);this[_0x149f69(0x223)]=_0x5237ee['data'];}else await Helper[_0x149f69(0x1e1)](0x1388,this['account'],_0x149f69(0x1ec)+_0x5237ee[_0x149f69(0x1ee)],this);}catch(_0x5c1082){throw _0x5c1082;}}async['initWss'](){return new Promise(async(_0x3e3e71,_0x3d866a)=>{const _0x154f1f=a2_0x146e;await Helper[_0x154f1f(0x1e1)](0x3e8,this[_0x154f1f(0x1fa)],_0x154f1f(0x210),this),this[_0x154f1f(0x20e)]=io(_0x154f1f(0x216),{'auth':{'token':this[_0x154f1f(0x236)]},'transports':[_0x154f1f(0x1e7)]}),this[_0x154f1f(0x20e)]['on'](_0x154f1f(0x231),async()=>{const _0x34bd5a=_0x154f1f;await Helper[_0x34bd5a(0x1e1)](0x3e8,this[_0x34bd5a(0x1fa)],'WSS\x20Connected...',this),a2_0x562737[_0x34bd5a(0x225)]('WSS\x20Handshake\x20completed\x20and\x20connected.'),a2_0x562737['info'](_0x34bd5a(0x1ed)+this[_0x34bd5a(0x20e)]['id']),_0x3e3e71();}),this[_0x154f1f(0x20e)]['on']('connect_error',async _0x247687=>{const _0x54a9d9=_0x154f1f;await Helper['delay'](0x3e8,this[_0x54a9d9(0x1fa)],_0x54a9d9(0x1e9)+_0x247687[_0x54a9d9(0x1ee)],this),a2_0x562737['error'](_0x54a9d9(0x21e)+_0x247687['message']),_0x3d866a(_0x247687);}),this[_0x154f1f(0x20e)]['on'](_0x154f1f(0x22d),async()=>{const _0x5ac8b5=_0x154f1f;await Helper[_0x5ac8b5(0x1e1)](0x3e8,this[_0x5ac8b5(0x1fa)],_0x5ac8b5(0x203),this),a2_0x562737[_0x5ac8b5(0x209)](_0x5ac8b5(0x1f6)),_0x3d866a(new Error(_0x5ac8b5(0x1f6)));}),this[_0x154f1f(0x20e)]['on'](_0x154f1f(0x209),async _0x9ba1b1=>{const _0x4e11f7=_0x154f1f;await Helper['delay'](0x3e8,this[_0x4e11f7(0x1fa)],_0x4e11f7(0x239)+_0x9ba1b1['message'],this),a2_0x562737['error'](_0x4e11f7(0x239)+_0x9ba1b1[_0x4e11f7(0x1ee)]),_0x3d866a(_0x9ba1b1);}),this[_0x154f1f(0x20e)]['on'](_0x154f1f(0x230),async _0x5dc42d=>{const _0x2827b1=_0x154f1f;await Helper[_0x2827b1(0x1e1)](0x3e8,this[_0x2827b1(0x1fa)],_0x2827b1(0x1fb)+_0x5dc42d+_0x2827b1(0x22a),this),a2_0x562737[_0x2827b1(0x225)](_0x2827b1(0x217)+_0x5dc42d);});});}async[a2_0x5e7868(0x206)](_0x4ddfe4=![]){const _0x2f9327=a2_0x5e7868;try{if(_0x4ddfe4)await Helper[_0x2f9327(0x1e1)](0x1f4,this['account'],_0x2f9327(0x227),this);this[_0x2f9327(0x228)]=[];const _0x3d6b66=await this['fetch'](_0x2f9327(0x1fc),_0x2f9327(0x1fd),this[_0x2f9327(0x1e2)]);if(_0x3d6b66[_0x2f9327(0x226)]){if(_0x4ddfe4)await Helper['delay'](0x3e8,this[_0x2f9327(0x1fa)],'Successfully\x20Get\x20Misisons',this);this[_0x2f9327(0x228)]=_0x3d6b66[_0x2f9327(0x221)];}else await Helper[_0x2f9327(0x1e1)](0x1388,this['account'],_0x2f9327(0x1ec)+_0x3d6b66[_0x2f9327(0x1ee)],this);}catch(_0x382ff6){throw _0x382ff6;}}async['claimMission'](_0x3adf2c){const _0x370730=a2_0x5e7868;try{await Helper[_0x370730(0x1e1)](0x1f4,this[_0x370730(0x1fa)],_0x370730(0x200)+_0x3adf2c[_0x370730(0x1ef)][_0x370730(0x21f)]+_0x370730(0x22a),this);const _0x576172=await this[_0x370730(0x1e6)](_0x370730(0x1e8)+_0x3adf2c['id']+'/claim','POST',this[_0x370730(0x1e2)]);_0x576172[_0x370730(0x226)]?(await Helper[_0x370730(0x1e1)](0x3e8,this[_0x370730(0x1fa)],_0x370730(0x1eb),this),await this['getUser'](),await this[_0x370730(0x206)]()):await Helper[_0x370730(0x1e1)](0x1388,this[_0x370730(0x1fa)],_0x370730(0x1ec)+_0x576172['message'],this);}catch(_0x1d37e5){throw _0x1d37e5;}}async[a2_0x5e7868(0x1ea)](){const _0x57ce59=a2_0x5e7868;try{await Helper[_0x57ce59(0x1e1)](0x1f4,this[_0x57ce59(0x1fa)],_0x57ce59(0x1f8),this);const _0x5ebc80=await this['fetch'](_0x57ce59(0x214),_0x57ce59(0x1fd),this[_0x57ce59(0x1e2)]);_0x5ebc80[_0x57ce59(0x226)]?(await Helper['delay'](0x3e8,this['account'],_0x57ce59(0x1f7),this),this[_0x57ce59(0x215)]=_0x5ebc80[_0x57ce59(0x221)]):await Helper[_0x57ce59(0x1e1)](0x1388,this[_0x57ce59(0x1fa)],_0x57ce59(0x1ec)+_0x5ebc80[_0x57ce59(0x1ee)],this);}catch(_0x13d4b3){throw _0x13d4b3;}}async[a2_0x5e7868(0x22e)](_0x492a94=![]){const _0x89198b=a2_0x5e7868;try{if(_0x492a94)await Helper[_0x89198b(0x1e1)](0x1f4,this[_0x89198b(0x1fa)],'Getting\x20Player\x20Plant...',this);const _0x1b3868=await this[_0x89198b(0x1e6)](_0x89198b(0x22f),_0x89198b(0x1fd),this[_0x89198b(0x1e2)]);if(_0x1b3868['success']){if(_0x492a94)await Helper[_0x89198b(0x1e1)](0x3e8,this[_0x89198b(0x1fa)],_0x89198b(0x235),this);this[_0x89198b(0x20a)]=_0x1b3868['data'];const _0x3ba1df=this[_0x89198b(0x20a)][_0x89198b(0x202)]((_0x4b17e7,_0x36c021)=>{const _0x187243=_0x89198b,_0x477138=_0x36c021[_0x187243(0x1e3)][_0x187243(0x224)]();return _0x4b17e7[_0x477138]=(_0x4b17e7[_0x477138]||0x0)+0x1,_0x4b17e7;},{});this[_0x89198b(0x1ff)]=Object[_0x89198b(0x21b)](_0x3ba1df)[_0x89198b(0x237)](([_0x2c03fa,_0x94dcd6])=>_0x94dcd6+'\x20'+_0x2c03fa+(_0x94dcd6>0x1?'s':''))[_0x89198b(0x220)]('\x20');}else await Helper[_0x89198b(0x1e1)](0x1388,this[_0x89198b(0x1fa)],_0x89198b(0x1ec)+_0x1b3868[_0x89198b(0x1ee)],this);}catch(_0x30fd04){throw _0x30fd04;}}async[a2_0x5e7868(0x201)](){const _0x4c9efa=a2_0x5e7868;try{await Helper[_0x4c9efa(0x1e1)](0x1f4,this[_0x4c9efa(0x1fa)],_0x4c9efa(0x1f2),this);const _0x38e88c=await this[_0x4c9efa(0x1e6)]('/api/v1/store/buy',_0x4c9efa(0x20c),this[_0x4c9efa(0x1e2)],{'storeId':0x11,'price':0x3e80,'unit':0x1});_0x38e88c[_0x4c9efa(0x226)]?(await Helper['delay'](0x3e8,this[_0x4c9efa(0x1fa)],_0x4c9efa(0x20b),this),await this[_0x4c9efa(0x22e)]()):await Helper[_0x4c9efa(0x1e1)](0x1388,this[_0x4c9efa(0x1fa)],_0x4c9efa(0x1ec)+_0x38e88c[_0x4c9efa(0x1ee)],this);}catch(_0x55bf0d){throw _0x55bf0d;}}async[a2_0x5e7868(0x213)](_0x25f35f=![]){const _0x3dac67=a2_0x5e7868;try{if(_0x25f35f)await Helper[_0x3dac67(0x1e1)](0x1f4,this[_0x3dac67(0x1fa)],_0x3dac67(0x211),this);const _0x3e63a7=await this[_0x3dac67(0x1e6)](_0x3dac67(0x238),_0x3dac67(0x1fd),this['token']);if(_0x3e63a7['success']){if(_0x25f35f)await Helper['delay'](0x3e8,this[_0x3dac67(0x1fa)],_0x3dac67(0x204),this);this['land']=_0x3e63a7[_0x3dac67(0x221)];}else await Helper['delay'](0x1388,this[_0x3dac67(0x1fa)],'Error\x20:\x20'+_0x3e63a7['message'],this);}catch(_0x46e6d0){throw _0x46e6d0;}}async[a2_0x5e7868(0x1f5)](_0xa1cf07){const _0x528ee0=a2_0x5e7868;try{await Helper['delay'](0x1f4,this[_0x528ee0(0x1fa)],'Planting\x20Gapes\x20seed\x20to\x20land...',this);const _0x310be7=await this['fetch']('/api/v1/players/plant','POSt',this[_0x528ee0(0x1e2)],{'plantId':this[_0x528ee0(0x20a)][0x0]['id'],'landId':_0xa1cf07});_0x310be7[_0x528ee0(0x226)]?(await Helper[_0x528ee0(0x1e1)](0x3e8,this[_0x528ee0(0x1fa)],_0x528ee0(0x21c)+_0xa1cf07,this),await this[_0x528ee0(0x213)](),await this[_0x528ee0(0x22e)]()):await Helper['delay'](0x1388,this[_0x528ee0(0x1fa)],'Error\x20:\x20'+_0x310be7[_0x528ee0(0x1ee)],this);}catch(_0x484529){throw _0x484529;}}async[a2_0x5e7868(0x1f0)](){const _0xa746b8=a2_0x5e7868;try{await Helper[_0xa746b8(0x1e1)](0x1f4,this[_0xa746b8(0x1fa)],'Harvesting\x20all...',this);const _0x19aaa6=await this[_0xa746b8(0x1e6)](_0xa746b8(0x1f1),_0xa746b8(0x1f3),this[_0xa746b8(0x1e2)]);_0x19aaa6[_0xa746b8(0x226)]?(await Helper[_0xa746b8(0x1e1)](0xbb8,this['account'],_0xa746b8(0x205)+_0x19aaa6[_0xa746b8(0x221)]['gem']+_0xa746b8(0x20f)+_0x19aaa6[_0xa746b8(0x221)][_0xa746b8(0x233)]+_0xa746b8(0x232),this),await this[_0xa746b8(0x1e0)](),await this[_0xa746b8(0x213)](),await this[_0xa746b8(0x22e)]()):await Helper[_0xa746b8(0x1e1)](0xbb8,this[_0xa746b8(0x1fa)],''+_0x19aaa6['message'],this);}catch(_0x59b5f9){throw _0x59b5f9;}}}